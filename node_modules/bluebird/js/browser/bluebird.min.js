/* @preserve
 * The MIT License (MIT)
 * 
 * Copyright (c) 2013-2015 Petka Antonov
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 * 
 */
/**
 * bluebird build version 2.10.2
 * Features enabled: core, race, call_get, generators, map, nodeify, promisify, props, reduce, settle, some, cancel, using, filter, any, each, timers
*/
!function(t)***REMOVED***if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else***REMOVED***var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.Promise=t()***REMOVED******REMOVED***(function()***REMOVED***var t,e,r;return function n(t,e,r)***REMOVED***function i(s,a)***REMOVED***if(!e[s])***REMOVED***if(!t[s])***REMOVED***var u="function"==typeof _dereq_&&_dereq_;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c***REMOVED***var l=e[s]=***REMOVED***exports:***REMOVED******REMOVED******REMOVED***;t[s][0].call(l.exports,function(e)***REMOVED***var r=t[s][1][e];return i(r?r:e)***REMOVED***,l,l.exports,n,t,e,r)***REMOVED***return e[s].exports***REMOVED***for(var o="function"==typeof _dereq_&&_dereq_,s=0;s<r.length;s++)i(r[s]);return i***REMOVED***(***REMOVED***1:[function(t,e)***REMOVED***"use strict";e.exports=function(t)***REMOVED***function e(t)***REMOVED***var e=new r(t),n=e.promise();return e.setHowMany(1),e.setUnwrap(),e.init(),n***REMOVED***var r=t._SomePromiseArray;t.any=function(t)***REMOVED***return e(t)***REMOVED***,t.prototype.any=function()***REMOVED***return e(this)***REMOVED******REMOVED******REMOVED***,***REMOVED******REMOVED***],2:[function(t,e)***REMOVED***"use strict";function r()***REMOVED***this._isTickUsed=!1,this._lateQueue=new c(16),this._normalQueue=new c(16),this._trampolineEnabled=!0;var t=this;this.drainQueues=function()***REMOVED***t._drainQueues()***REMOVED***,this._schedule=u.isStatic?u(this.drainQueues):u***REMOVED***function n(t,e,r)***REMOVED***this._lateQueue.push(t,e,r),this._queueTick()***REMOVED***function i(t,e,r)***REMOVED***this._normalQueue.push(t,e,r),this._queueTick()***REMOVED***function o(t)***REMOVED***this._normalQueue._pushOne(t),this._queueTick()***REMOVED***var s;try***REMOVED***throw new Error***REMOVED***catch(a)***REMOVED***s=a***REMOVED***var u=t("./schedule.js"),c=t("./queue.js"),l=t("./util.js");r.prototype.disableTrampolineIfNecessary=function()***REMOVED***l.hasDevTools&&(this._trampolineEnabled=!1)***REMOVED***,r.prototype.enableTrampoline=function()***REMOVED***this._trampolineEnabled||(this._trampolineEnabled=!0,this._schedule=function(t)***REMOVED***setTimeout(t,0)***REMOVED***)***REMOVED***,r.prototype.haveItemsQueued=function()***REMOVED***return this._normalQueue.length()>0***REMOVED***,r.prototype.throwLater=function(t,e)***REMOVED***if(1===arguments.length&&(e=t,t=function()***REMOVED***throw e***REMOVED***),"undefined"!=typeof setTimeout)setTimeout(function()***REMOVED***t(e)***REMOVED***,0);else try***REMOVED***this._schedule(function()***REMOVED***t(e)***REMOVED***)***REMOVED***catch(r)***REMOVED***throw new Error("No async scheduler available\n\n    See http://goo.gl/m3OTXk\n")***REMOVED******REMOVED***,l.hasDevTools?(u.isStatic&&(u=function(t)***REMOVED***setTimeout(t,0)***REMOVED***),r.prototype.invokeLater=function(t,e,r)***REMOVED***this._trampolineEnabled?n.call(this,t,e,r):this._schedule(function()***REMOVED***setTimeout(function()***REMOVED***t.call(e,r)***REMOVED***,100)***REMOVED***)***REMOVED***,r.prototype.invoke=function(t,e,r)***REMOVED***this._trampolineEnabled?i.call(this,t,e,r):this._schedule(function()***REMOVED***t.call(e,r)***REMOVED***)***REMOVED***,r.prototype.settlePromises=function(t)***REMOVED***this._trampolineEnabled?o.call(this,t):this._schedule(function()***REMOVED***t._settlePromises()***REMOVED***)***REMOVED***):(r.prototype.invokeLater=n,r.prototype.invoke=i,r.prototype.settlePromises=o),r.prototype.invokeFirst=function(t,e,r)***REMOVED***this._normalQueue.unshift(t,e,r),this._queueTick()***REMOVED***,r.prototype._drainQueue=function(t)***REMOVED***for(;t.length()>0;)***REMOVED***var e=t.shift();if("function"==typeof e)***REMOVED***var r=t.shift(),n=t.shift();e.call(r,n)***REMOVED***else e._settlePromises()***REMOVED******REMOVED***,r.prototype._drainQueues=function()***REMOVED***this._drainQueue(this._normalQueue),this._reset(),this._drainQueue(this._lateQueue)***REMOVED***,r.prototype._queueTick=function()***REMOVED***this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))***REMOVED***,r.prototype._reset=function()***REMOVED***this._isTickUsed=!1***REMOVED***,e.exports=new r,e.exports.firstLineError=s***REMOVED***,***REMOVED***"./queue.js":28,"./schedule.js":31,"./util.js":38***REMOVED***],3:[function(t,e)***REMOVED***"use strict";e.exports=function(t,e,r)***REMOVED***var n=function(t,e)***REMOVED***this._reject(e)***REMOVED***,i=function(t,e)***REMOVED***e.promiseRejectionQueued=!0,e.bindingPromise._then(n,n,null,this,t)***REMOVED***,o=function(t,e)***REMOVED***this._isPending()&&this._resolveCallback(e.target)***REMOVED***,s=function(t,e)***REMOVED***e.promiseRejectionQueued||this._reject(t)***REMOVED***;t.prototype.bind=function(n)***REMOVED***var a=r(n),u=new t(e);u._propagateFrom(this,1);var c=this._target();if(u._setBoundTo(a),a instanceof t)***REMOVED***var l=***REMOVED***promiseRejectionQueued:!1,promise:u,target:c,bindingPromise:a***REMOVED***;c._then(e,i,u._progress,u,l),a._then(o,s,u._progress,u,l)***REMOVED***else u._resolveCallback(c);return u***REMOVED***,t.prototype._setBoundTo=function(t)***REMOVED***void 0!==t?(this._bitField=131072|this._bitField,this._boundTo=t):this._bitField=-131073&this._bitField***REMOVED***,t.prototype._isBound=function()***REMOVED***return 131072===(131072&this._bitField)***REMOVED***,t.bind=function(n,i)***REMOVED***var o=r(n),s=new t(e);return s._setBoundTo(o),o instanceof t?o._then(function()***REMOVED***s._resolveCallback(i)***REMOVED***,s._reject,s._progress,s,null):s._resolveCallback(i),s***REMOVED******REMOVED******REMOVED***,***REMOVED******REMOVED***],4:[function(t,e)***REMOVED***"use strict";function r()***REMOVED***try***REMOVED***Promise===i&&(Promise=n)***REMOVED***catch(t)***REMOVED******REMOVED***return i***REMOVED***var n;"undefined"!=typeof Promise&&(n=Promise);var i=t("./promise.js")();i.noConflict=r,e.exports=i***REMOVED***,***REMOVED***"./promise.js":23***REMOVED***],5:[function(t,e)***REMOVED***"use strict";var r=Object.create;if(r)***REMOVED***var n=r(null),i=r(null);n[" size"]=i[" size"]=0***REMOVED***e.exports=function(e)***REMOVED***function r(t,r)***REMOVED***var n;if(null!=t&&(n=t[r]),"function"!=typeof n)***REMOVED***var i="Object "+a.classString(t)+" has no method '"+a.toString(r)+"'";throw new e.TypeError(i)***REMOVED***return n***REMOVED***function n(t)***REMOVED***var e=this.pop(),n=r(t,e);return n.apply(t,this)***REMOVED***function i(t)***REMOVED***return t[this]***REMOVED***function o(t)***REMOVED***var e=+this;return 0>e&&(e=Math.max(0,e+t.length)),t[e]***REMOVED******REMOVED***var s,a=t("./util.js"),u=a.canEvaluate;a.isIdentifier***REMOVED***e.prototype.call=function(t)***REMOVED***for(var e=arguments.length,r=new Array(e-1),i=1;e>i;++i)r[i-1]=arguments[i];return r.push(t),this._then(n,void 0,void 0,r,void 0)***REMOVED***,e.prototype.get=function(t)***REMOVED***var e,r="number"==typeof t;if(r)e=o;else if(u)***REMOVED***var n=s(t);e=null!==n?n:i***REMOVED***else e=i;return this._then(e,void 0,void 0,t,void 0)***REMOVED******REMOVED******REMOVED***,***REMOVED***"./util.js":38***REMOVED***],6:[function(t,e)***REMOVED***"use strict";e.exports=function(e)***REMOVED***var r=t("./errors.js"),n=t("./async.js"),i=r.CancellationError;e.prototype._cancel=function(t)***REMOVED***if(!this.isCancellable())return this;for(var e,r=this;void 0!==(e=r._cancellationParent)&&e.isCancellable();)r=e;this._unsetCancellable(),r._target()._rejectCallback(t,!1,!0)***REMOVED***,e.prototype.cancel=function(t)***REMOVED***return this.isCancellable()?(void 0===t&&(t=new i),n.invokeLater(this._cancel,this,t),this):this***REMOVED***,e.prototype.cancellable=function()***REMOVED***return this._cancellable()?this:(n.enableTrampoline(),this._setCancellable(),this._cancellationParent=void 0,this)***REMOVED***,e.prototype.uncancellable=function()***REMOVED***var t=this.then();return t._unsetCancellable(),t***REMOVED***,e.prototype.fork=function(t,e,r)***REMOVED***var n=this._then(t,e,r,void 0,void 0);return n._setCancellable(),n._cancellationParent=void 0,n***REMOVED******REMOVED******REMOVED***,***REMOVED***"./async.js":2,"./errors.js":13***REMOVED***],7:[function(t,e)***REMOVED***"use strict";e.exports=function()***REMOVED***function e(t)***REMOVED***this._parent=t;var r=this._length=1+(void 0===t?0:t._length);j(this,e),r>32&&this.uncycle()***REMOVED***function r(t,e)***REMOVED***for(var r=0;r<e.length-1;++r)e[r].push("From previous event:"),e[r]=e[r].join("\n");return r<e.length&&(e[r]=e[r].join("\n")),t+"\n"+e.join("\n")***REMOVED***function n(t)***REMOVED***for(var e=0;e<t.length;++e)(0===t[e].length||e+1<t.length&&t[e][0]===t[e+1][0])&&(t.splice(e,1),e--)***REMOVED***function i(t)***REMOVED***for(var e=t[0],r=1;r<t.length;++r)***REMOVED***for(var n=t[r],i=e.length-1,o=e[i],s=-1,a=n.length-1;a>=0;--a)if(n[a]===o)***REMOVED***s=a;break***REMOVED***for(var a=s;a>=0;--a)***REMOVED***var u=n[a];if(e[i]!==u)break;e.pop(),i--***REMOVED***e=n***REMOVED******REMOVED***function o(t)***REMOVED***for(var e=[],r=0;r<t.length;++r)***REMOVED***var n=t[r],i=_.test(n)||"    (No stack trace)"===n,o=i&&y(n);i&&!o&&(v&&" "!==n.charAt(0)&&(n="    "+n),e.push(n))***REMOVED***return e***REMOVED***function s(t)***REMOVED***for(var e=t.stack.replace(/\s+$/g,"").split("\n"),r=0;r<e.length;++r)***REMOVED***var n=e[r];if("    (No stack trace)"===n||_.test(n))break***REMOVED***return r>0&&(e=e.slice(r)),e***REMOVED***function a(t)***REMOVED***var e;if("function"==typeof t)e="[function "+(t.name||"anonymous")+"]";else***REMOVED***e=t.toString();var r=/\[object [a-zA-Z0-9$_]+\]/;if(r.test(e))try***REMOVED***var n=JSON.stringify(t);e=n***REMOVED***catch(i)***REMOVED******REMOVED***0===e.length&&(e="(empty array)")***REMOVED***return"(<"+u(e)+">, no stack trace)"***REMOVED***function u(t)***REMOVED***var e=41;return t.length<e?t:t.substr(0,e-3)+"..."***REMOVED***function c(t)***REMOVED***var e=t.match(g);return e?***REMOVED***fileName:e[1],line:parseInt(e[2],10)***REMOVED***:void 0***REMOVED***var l,h=t("./async.js"),p=t("./util.js"),f=/[\\\/]bluebird[\\\/]js[\\\/](main|debug|zalgo|instrumented)/,_=null,d=null,v=!1;p.inherits(e,Error),e.prototype.uncycle=function()***REMOVED***var t=this._length;if(!(2>t))***REMOVED***for(var e=[],r=***REMOVED******REMOVED***,n=0,i=this;void 0!==i;++n)e.push(i),i=i._parent;t=this._length=n;for(var n=t-1;n>=0;--n)***REMOVED***var o=e[n].stack;void 0===r[o]&&(r[o]=n)***REMOVED***for(var n=0;t>n;++n)***REMOVED***var s=e[n].stack,a=r[s];if(void 0!==a&&a!==n)***REMOVED***a>0&&(e[a-1]._parent=void 0,e[a-1]._length=1),e[n]._parent=void 0,e[n]._length=1;var u=n>0?e[n-1]:this;t-1>a?(u._parent=e[a+1],u._parent.uncycle(),u._length=u._parent._length+1):(u._parent=void 0,u._length=1);for(var c=u._length+1,l=n-2;l>=0;--l)e[l]._length=c,c++;return***REMOVED******REMOVED******REMOVED******REMOVED***,e.prototype.parent=function()***REMOVED***return this._parent***REMOVED***,e.prototype.hasParent=function()***REMOVED***return void 0!==this._parent***REMOVED***,e.prototype.attachExtraTrace=function(t)***REMOVED***if(!t.__stackCleaned__)***REMOVED***this.uncycle();for(var s=e.parseStackAndMessage(t),a=s.message,u=[s.stack],c=this;void 0!==c;)u.push(o(c.stack.split("\n"))),c=c._parent;i(u),n(u),p.notEnumerableProp(t,"stack",r(a,u)),p.notEnumerableProp(t,"__stackCleaned__",!0)***REMOVED******REMOVED***,e.parseStackAndMessage=function(t)***REMOVED***var e=t.stack,r=t.toString();return e="string"==typeof e&&e.length>0?s(t):["    (No stack trace)"],***REMOVED***message:r,stack:o(e)***REMOVED******REMOVED***,e.formatAndLogError=function(t,e)***REMOVED***if("undefined"!=typeof console)***REMOVED***var r;if("object"==typeof t||"function"==typeof t)***REMOVED***var n=t.stack;r=e+d(n,t)***REMOVED***else r=e+String(t);"function"==typeof l?l(r):("function"==typeof console.log||"object"==typeof console.log)&&console.log(r)***REMOVED******REMOVED***,e.unhandledRejection=function(t)***REMOVED***e.formatAndLogError(t,"^--- With additional stack trace: ")***REMOVED***,e.isSupported=function()***REMOVED***return"function"==typeof j***REMOVED***,e.fireRejectionEvent=function(t,r,n,i)***REMOVED***var o=!1;try***REMOVED***"function"==typeof r&&(o=!0,"rejectionHandled"===t?r(i):r(n,i))***REMOVED***catch(s)***REMOVED***h.throwLater(s)***REMOVED***var a=!1;try***REMOVED***a=b(t,n,i)***REMOVED***catch(s)***REMOVED***a=!0,h.throwLater(s)***REMOVED***var u=!1;if(m)try***REMOVED***u=m(t.toLowerCase(),***REMOVED***reason:n,promise:i***REMOVED***)***REMOVED***catch(s)***REMOVED***u=!0,h.throwLater(s)***REMOVED***a||o||u||"unhandledRejection"!==t||e.formatAndLogError(n,"Unhandled rejection ")***REMOVED***;var y=function()***REMOVED***return!1***REMOVED***,g=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;e.setBounds=function(t,r)***REMOVED***if(e.isSupported())***REMOVED***for(var n,i,o=t.stack.split("\n"),s=r.stack.split("\n"),a=-1,u=-1,l=0;l<o.length;++l)***REMOVED***var h=c(o[l]);if(h)***REMOVED***n=h.fileName,a=h.line;break***REMOVED******REMOVED***for(var l=0;l<s.length;++l)***REMOVED***var h=c(s[l]);if(h)***REMOVED***i=h.fileName,u=h.line;break***REMOVED******REMOVED***0>a||0>u||!n||!i||n!==i||a>=u||(y=function(t)***REMOVED***if(f.test(t))return!0;var e=c(t);return e&&e.fileName===n&&a<=e.line&&e.line<=u?!0:!1***REMOVED***)***REMOVED******REMOVED***;var m,j=function()***REMOVED***var t=/^\s*at\s*/,e=function(t,e)***REMOVED***return"string"==typeof t?t:void 0!==e.name&&void 0!==e.message?e.toString():a(e)***REMOVED***;if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace)***REMOVED***Error.stackTraceLimit=Error.stackTraceLimit+6,_=t,d=e;var r=Error.captureStackTrace;return y=function(t)***REMOVED***return f.test(t)***REMOVED***,function(t,e)***REMOVED***Error.stackTraceLimit=Error.stackTraceLimit+6,r(t,e),Error.stackTraceLimit=Error.stackTraceLimit-6***REMOVED******REMOVED***var n=new Error;if("string"==typeof n.stack&&n.stack.split("\n")[0].indexOf("stackDetection@")>=0)return _=/@/,d=e,v=!0,function(t)***REMOVED***t.stack=(new Error).stack***REMOVED***;var i;try***REMOVED***throw new Error***REMOVED***catch(o)***REMOVED***i="stack"in o***REMOVED***return"stack"in n||!i||"number"!=typeof Error.stackTraceLimit?(d=function(t,e)***REMOVED***return"string"==typeof t?t:"object"!=typeof e&&"function"!=typeof e||void 0===e.name||void 0===e.message?a(e):e.toString()***REMOVED***,null):(_=t,d=e,function(t)***REMOVED***Error.stackTraceLimit=Error.stackTraceLimit+6;try***REMOVED***throw new Error***REMOVED***catch(e)***REMOVED***t.stack=e.stack***REMOVED***Error.stackTraceLimit=Error.stackTraceLimit-6***REMOVED***)***REMOVED***([]),b=function()***REMOVED***if(p.isNode)return function(t,e,r)***REMOVED***return"rejectionHandled"===t?process.emit(t,r):process.emit(t,e,r)***REMOVED***;var t=!1,e=!0;try***REMOVED***var r=new self.CustomEvent("test");t=r instanceof CustomEvent***REMOVED***catch(n)***REMOVED******REMOVED***if(!t)try***REMOVED***var i=document.createEvent("CustomEvent");i.initCustomEvent("testingtheevent",!1,!0,***REMOVED******REMOVED***),self.dispatchEvent(i)***REMOVED***catch(n)***REMOVED***e=!1***REMOVED***e&&(m=function(e,r)***REMOVED***var n;return t?n=new self.CustomEvent(e,***REMOVED***detail:r,bubbles:!1,cancelable:!0***REMOVED***):self.dispatchEvent&&(n=document.createEvent("CustomEvent"),n.initCustomEvent(e,!1,!0,r)),n?!self.dispatchEvent(n):!1***REMOVED***);var o=***REMOVED******REMOVED***;return o.unhandledRejection="onunhandledRejection".toLowerCase(),o.rejectionHandled="onrejectionHandled".toLowerCase(),function(t,e,r)***REMOVED***var n=o[t],i=self[n];return i?("rejectionHandled"===t?i.call(self,r):i.call(self,e,r),!0):!1***REMOVED******REMOVED***();return"undefined"!=typeof console&&"undefined"!=typeof console.warn&&(l=function(t)***REMOVED***console.warn(t)***REMOVED***,p.isNode&&process.stderr.isTTY?l=function(t)***REMOVED***process.stderr.write("[31m"+t+"[39m\n")***REMOVED***:p.isNode||"string"!=typeof(new Error).stack||(l=function(t)***REMOVED***console.warn("%c"+t,"color: red")***REMOVED***)),e***REMOVED******REMOVED***,***REMOVED***"./async.js":2,"./util.js":38***REMOVED***],8:[function(t,e)***REMOVED***"use strict";e.exports=function(e)***REMOVED***function r(t,e,r)***REMOVED***this._instances=t,this._callback=e,this._promise=r***REMOVED***function n(t,e)***REMOVED***var r=***REMOVED******REMOVED***,n=s(t).call(r,e);if(n===a)return n;var i=u(r);return i.length?(a.e=new c("Catch filter must inherit from Error or be a simple predicate function\n\n    See http://goo.gl/o84o68\n"),a):n***REMOVED***var i=t("./util.js"),o=t("./errors.js"),s=i.tryCatch,a=i.errorObj,u=t("./es5.js").keys,c=o.TypeError;return r.prototype.doFilter=function(t)***REMOVED***for(var r=this._callback,i=this._promise,o=i._boundValue(),u=0,c=this._instances.length;c>u;++u)***REMOVED***var l=this._instances[u],h=l===Error||null!=l&&l.prototype instanceof Error;if(h&&t instanceof l)***REMOVED***var p=s(r).call(o,t);return p===a?(e.e=p.e,e):p***REMOVED***if("function"==typeof l&&!h)***REMOVED***var f=n(l,t);if(f===a)***REMOVED***t=a.e;break***REMOVED***if(f)***REMOVED***var p=s(r).call(o,t);return p===a?(e.e=p.e,e):p***REMOVED******REMOVED******REMOVED***return e.e=t,e***REMOVED***,r***REMOVED******REMOVED***,***REMOVED***"./errors.js":13,"./es5.js":14,"./util.js":38***REMOVED***],9:[function(t,e)***REMOVED***"use strict";e.exports=function(t,e,r)***REMOVED***function n()***REMOVED***this._trace=new e(o())***REMOVED***function i()***REMOVED***return r()?new n:void 0***REMOVED***function o()***REMOVED***var t=s.length-1;return t>=0?s[t]:void 0***REMOVED***var s=[];return n.prototype._pushContext=function()***REMOVED***r()&&void 0!==this._trace&&s.push(this._trace)***REMOVED***,n.prototype._popContext=function()***REMOVED***r()&&void 0!==this._trace&&s.pop()***REMOVED***,t.prototype._peekContext=o,t.prototype._pushContext=n.prototype._pushContext,t.prototype._popContext=n.prototype._popContext,i***REMOVED******REMOVED***,***REMOVED******REMOVED***],10:[function(t,e)***REMOVED***"use strict";e.exports=function(e,r)***REMOVED***var n,i,o=e._getDomain,s=t("./async.js"),a=t("./errors.js").Warning,u=t("./util.js"),c=u.canAttachTrace,l=!1||u.isNode&&(!!process.env.BLUEBIRD_DEBUG||"development"===process.env.NODE_ENV);return u.isNode&&0==process.env.BLUEBIRD_DEBUG&&(l=!1),l&&s.disableTrampolineIfNecessary(),e.prototype._ignoreRejections=function()***REMOVED***this._unsetRejectionIsUnhandled(),this._bitField=16777216|this._bitField***REMOVED***,e.prototype._ensurePossibleRejectionHandled=function()***REMOVED***0===(16777216&this._bitField)&&(this._setRejectionIsUnhandled(),s.invokeLater(this._notifyUnhandledRejection,this,void 0))***REMOVED***,e.prototype._notifyUnhandledRejectionIsHandled=function()***REMOVED***r.fireRejectionEvent("rejectionHandled",n,void 0,this)***REMOVED***,e.prototype._notifyUnhandledRejection=function()***REMOVED***if(this._isRejectionUnhandled())***REMOVED***var t=this._getCarriedStackTrace()||this._settledValue;this._setUnhandledRejectionIsNotified(),r.fireRejectionEvent("unhandledRejection",i,t,this)***REMOVED******REMOVED***,e.prototype._setUnhandledRejectionIsNotified=function()***REMOVED***this._bitField=524288|this._bitField***REMOVED***,e.prototype._unsetUnhandledRejectionIsNotified=function()***REMOVED***this._bitField=-524289&this._bitField***REMOVED***,e.prototype._isUnhandledRejectionNotified=function()***REMOVED***return(524288&this._bitField)>0***REMOVED***,e.prototype._setRejectionIsUnhandled=function()***REMOVED***this._bitField=2097152|this._bitField***REMOVED***,e.prototype._unsetRejectionIsUnhandled=function()***REMOVED***this._bitField=-2097153&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())***REMOVED***,e.prototype._isRejectionUnhandled=function()***REMOVED***return(2097152&this._bitField)>0***REMOVED***,e.prototype._setCarriedStackTrace=function(t)***REMOVED***this._bitField=1048576|this._bitField,this._fulfillmentHandler0=t***REMOVED***,e.prototype._isCarryingStackTrace=function()***REMOVED***return(1048576&this._bitField)>0***REMOVED***,e.prototype._getCarriedStackTrace=function()***REMOVED***return this._isCarryingStackTrace()?this._fulfillmentHandler0:void 0***REMOVED***,e.prototype._captureStackTrace=function()***REMOVED***return l&&(this._trace=new r(this._peekContext())),this***REMOVED***,e.prototype._attachExtraTrace=function(t,e)***REMOVED***if(l&&c(t))***REMOVED***var n=this._trace;if(void 0!==n&&e&&(n=n._parent),void 0!==n)n.attachExtraTrace(t);else if(!t.__stackCleaned__)***REMOVED***var i=r.parseStackAndMessage(t);u.notEnumerableProp(t,"stack",i.message+"\n"+i.stack.join("\n")),u.notEnumerableProp(t,"__stackCleaned__",!0)***REMOVED******REMOVED******REMOVED***,e.prototype._warn=function(t)***REMOVED***var e=new a(t),n=this._peekContext();if(n)n.attachExtraTrace(e);else***REMOVED***var i=r.parseStackAndMessage(e);e.stack=i.message+"\n"+i.stack.join("\n")***REMOVED***r.formatAndLogError(e,"")***REMOVED***,e.onPossiblyUnhandledRejection=function(t)***REMOVED***var e=o();i="function"==typeof t?null===e?t:e.bind(t):void 0***REMOVED***,e.onUnhandledRejectionHandled=function(t)***REMOVED***var e=o();n="function"==typeof t?null===e?t:e.bind(t):void 0***REMOVED***,e.longStackTraces=function()***REMOVED***if(s.haveItemsQueued()&&l===!1)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/DT1qyG\n");l=r.isSupported(),l&&s.disableTrampolineIfNecessary()***REMOVED***,e.hasLongStackTraces=function()***REMOVED***return l&&r.isSupported()***REMOVED***,r.isSupported()||(e.longStackTraces=function()***REMOVED******REMOVED***,l=!1),function()***REMOVED***return l***REMOVED******REMOVED******REMOVED***,***REMOVED***"./async.js":2,"./errors.js":13,"./util.js":38***REMOVED***],11:[function(t,e)***REMOVED***"use strict";var r=t("./util.js"),n=r.isPrimitive;e.exports=function(t)***REMOVED***var e=function()***REMOVED***return this***REMOVED***,r=function()***REMOVED***throw this***REMOVED***,i=function()***REMOVED******REMOVED***,o=function()***REMOVED***throw void 0***REMOVED***,s=function(t,e)***REMOVED***return 1===e?function()***REMOVED***throw t***REMOVED***:2===e?function()***REMOVED***return t***REMOVED***:void 0***REMOVED***;t.prototype["return"]=t.prototype.thenReturn=function(r)***REMOVED***return void 0===r?this.then(i):n(r)?this._then(s(r,2),void 0,void 0,void 0,void 0):(r instanceof t&&r._ignoreRejections(),this._then(e,void 0,void 0,r,void 0))***REMOVED***,t.prototype["throw"]=t.prototype.thenThrow=function(t)***REMOVED***return void 0===t?this.then(o):n(t)?this._then(s(t,1),void 0,void 0,void 0,void 0):this._then(r,void 0,void 0,t,void 0)***REMOVED******REMOVED******REMOVED***,***REMOVED***"./util.js":38***REMOVED***],12:[function(t,e)***REMOVED***"use strict";e.exports=function(t,e)***REMOVED***var r=t.reduce;t.prototype.each=function(t)***REMOVED***return r(this,t,null,e)***REMOVED***,t.each=function(t,n)***REMOVED***return r(t,n,null,e)***REMOVED******REMOVED******REMOVED***,***REMOVED******REMOVED***],13:[function(t,e)***REMOVED***"use strict";function r(t,e)***REMOVED***function r(n)***REMOVED***return this instanceof r?(l(this,"message","string"==typeof n?n:e),l(this,"name",t),void(Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this))):new r(n)***REMOVED***return c(r,Error),r***REMOVED***function n(t)***REMOVED***return this instanceof n?(l(this,"name","OperationalError"),l(this,"message",t),this.cause=t,this.isOperational=!0,void(t instanceof Error?(l(this,"message",t.message),l(this,"stack",t.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor))):new n(t)***REMOVED***var i,o,s=t("./es5.js"),a=s.freeze,u=t("./util.js"),c=u.inherits,l=u.notEnumerableProp,h=r("Warning","warning"),p=r("CancellationError","cancellation error"),f=r("TimeoutError","timeout error"),_=r("AggregateError","aggregate error");try***REMOVED***i=TypeError,o=RangeError***REMOVED***catch(d)***REMOVED***i=r("TypeError","type error"),o=r("RangeError","range error")***REMOVED***for(var v="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),y=0;y<v.length;++y)"function"==typeof Array.prototype[v[y]]&&(_.prototype[v[y]]=Array.prototype[v[y]]);s.defineProperty(_.prototype,"length",***REMOVED***value:0,configurable:!1,writable:!0,enumerable:!0***REMOVED***),_.prototype.isOperational=!0;var g=0;_.prototype.toString=function()***REMOVED***var t=Array(4*g+1).join(" "),e="\n"+t+"AggregateError of:\n";g++,t=Array(4*g+1).join(" ");for(var r=0;r<this.length;++r)***REMOVED***for(var n=this[r]===this?"[Circular AggregateError]":this[r]+"",i=n.split("\n"),o=0;o<i.length;++o)i[o]=t+i[o];n=i.join("\n"),e+=n+"\n"***REMOVED***return g--,e***REMOVED***,c(n,Error);var m=Error.__BluebirdErrorTypes__;m||(m=a(***REMOVED***CancellationError:p,TimeoutError:f,OperationalError:n,RejectionError:n,AggregateError:_***REMOVED***),l(Error,"__BluebirdErrorTypes__",m)),e.exports=***REMOVED***Error:Error,TypeError:i,RangeError:o,CancellationError:m.CancellationError,OperationalError:m.OperationalError,TimeoutError:m.TimeoutError,AggregateError:m.AggregateError,Warning:h***REMOVED******REMOVED***,***REMOVED***"./es5.js":14,"./util.js":38***REMOVED***],14:[function(t,e)***REMOVED***var r=function()***REMOVED***"use strict";return void 0===this***REMOVED***();if(r)e.exports=***REMOVED***freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:r,propertyIsWritable:function(t,e)***REMOVED***var r=Object.getOwnPropertyDescriptor(t,e);return!(r&&!r.writable&&!r.set)***REMOVED******REMOVED***;else***REMOVED***var n=***REMOVED******REMOVED***.hasOwnProperty,i=***REMOVED******REMOVED***.toString,o=***REMOVED******REMOVED***.constructor.prototype,s=function(t)***REMOVED***var e=[];for(var r in t)n.call(t,r)&&e.push(r);return e***REMOVED***,a=function(t,e)***REMOVED***return***REMOVED***value:t[e]***REMOVED******REMOVED***,u=function(t,e,r)***REMOVED***return t[e]=r.value,t***REMOVED***,c=function(t)***REMOVED***return t***REMOVED***,l=function(t)***REMOVED***try***REMOVED***return Object(t).constructor.prototype***REMOVED***catch(e)***REMOVED***return o***REMOVED******REMOVED***,h=function(t)***REMOVED***try***REMOVED***return"[object Array]"===i.call(t)***REMOVED***catch(e)***REMOVED***return!1***REMOVED******REMOVED***;e.exports=***REMOVED***isArray:h,keys:s,names:s,defineProperty:u,getDescriptor:a,freeze:c,getPrototypeOf:l,isES5:r,propertyIsWritable:function()***REMOVED***return!0***REMOVED******REMOVED******REMOVED******REMOVED***,***REMOVED******REMOVED***],15:[function(t,e)***REMOVED***"use strict";e.exports=function(t,e)***REMOVED***var r=t.map;t.prototype.filter=function(t,n)***REMOVED***return r(this,t,n,e)***REMOVED***,t.filter=function(t,n,i)***REMOVED***return r(t,n,i,e)***REMOVED******REMOVED******REMOVED***,***REMOVED******REMOVED***],16:[function(t,e)***REMOVED***"use strict";e.exports=function(e,r,n)***REMOVED***function i()***REMOVED***return this***REMOVED***function o()***REMOVED***throw this***REMOVED***function s(t)***REMOVED***return function()***REMOVED***return t***REMOVED******REMOVED***function a(t)***REMOVED***return function()***REMOVED***throw t***REMOVED******REMOVED***function u(t,e,r)***REMOVED***var n;return n=p(e)?r?s(e):a(e):r?i:o,t._then(n,f,void 0,e,void 0)***REMOVED***function c(t)***REMOVED***var i=this.promise,o=this.handler,s=i._isBound()?o.call(i._boundValue()):o();if(void 0!==s)***REMOVED***var a=n(s,i);if(a instanceof e)return a=a._target(),u(a,t,i.isFulfilled())***REMOVED***return i.isRejected()?(r.e=t,r):t***REMOVED***function l(t)***REMOVED***var r=this.promise,i=this.handler,o=r._isBound()?i.call(r._boundValue(),t):i(t);if(void 0!==o)***REMOVED***var s=n(o,r);if(s instanceof e)return s=s._target(),u(s,t,!0)***REMOVED***return t***REMOVED***var h=t("./util.js"),p=h.isPrimitive,f=h.thrower;e.prototype._passThroughHandler=function(t,e)***REMOVED***if("function"!=typeof t)return this.then();var r=***REMOVED***promise:this,handler:t***REMOVED***;return this._then(e?c:l,e?c:void 0,void 0,r,void 0)***REMOVED***,e.prototype.lastly=e.prototype["finally"]=function(t)***REMOVED***return this._passThroughHandler(t,!0)***REMOVED***,e.prototype.tap=function(t)***REMOVED***return this._passThroughHandler(t,!1)***REMOVED******REMOVED******REMOVED***,***REMOVED***"./util.js":38***REMOVED***],17:[function(t,e)***REMOVED***"use strict";e.exports=function(e,r,n,i)***REMOVED***function o(t,r,n)***REMOVED***for(var o=0;o<r.length;++o)***REMOVED***n._pushContext();var s=h(r[o])(t);if(n._popContext(),s===l)***REMOVED***n._pushContext();var a=e.reject(l.e);return n._popContext(),a***REMOVED***var u=i(s,n);if(u instanceof e)return u***REMOVED***return null***REMOVED***function s(t,r,i,o)***REMOVED***var s=this._promise=new e(n);s._captureStackTrace(),this._stack=o,this._generatorFunction=t,this._receiver=r,this._generator=void 0,this._yieldHandlers="function"==typeof i?[i].concat(p):p***REMOVED***var a=t("./errors.js"),u=a.TypeError,c=t("./util.js"),l=c.errorObj,h=c.tryCatch,p=[];s.prototype.promise=function()***REMOVED***return this._promise***REMOVED***,s.prototype._run=function()***REMOVED***this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._next(void 0)***REMOVED***,s.prototype._continue=function(t)***REMOVED***if(t===l)return this._promise._rejectCallback(t.e,!1,!0);var r=t.value;if(t.done===!0)this._promise._resolveCallback(r);else***REMOVED***var n=i(r,this._promise);if(!(n instanceof e)&&(n=o(n,this._yieldHandlers,this._promise),null===n))return void this._throw(new u("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/4Y4pDk\n\n".replace("%s",r)+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")));n._then(this._next,this._throw,void 0,this,null)***REMOVED******REMOVED***,s.prototype._throw=function(t)***REMOVED***this._promise._attachExtraTrace(t),this._promise._pushContext();var e=h(this._generator["throw"]).call(this._generator,t);this._promise._popContext(),this._continue(e)***REMOVED***,s.prototype._next=function(t)***REMOVED***this._promise._pushContext();var e=h(this._generator.next).call(this._generator,t);this._promise._popContext(),this._continue(e)***REMOVED***,e.coroutine=function(t,e)***REMOVED***if("function"!=typeof t)throw new u("generatorFunction must be a function\n\n    See http://goo.gl/6Vqhm0\n");var r=Object(e).yieldHandler,n=s,i=(new Error).stack;return function()***REMOVED***var e=t.apply(this,arguments),o=new n(void 0,void 0,r,i);return o._generator=e,o._next(void 0),o.promise()***REMOVED******REMOVED***,e.coroutine.addYieldHandler=function(t)***REMOVED***if("function"!=typeof t)throw new u("fn must be a function\n\n    See http://goo.gl/916lJJ\n");p.push(t)***REMOVED***,e.spawn=function(t)***REMOVED***if("function"!=typeof t)return r("generatorFunction must be a function\n\n    See http://goo.gl/6Vqhm0\n");var n=new s(t,this),i=n.promise();return n._run(e.spawn),i***REMOVED******REMOVED******REMOVED***,***REMOVED***"./errors.js":13,"./util.js":38***REMOVED***],18:[function(t,e)***REMOVED***"use strict";e.exports=function(e,r,n,i)***REMOVED******REMOVED***var o=t("./util.js");o.canEvaluate,o.tryCatch,o.errorObj***REMOVED***e.join=function()***REMOVED***var t,e=arguments.length-1;if(e>0&&"function"==typeof arguments[e])***REMOVED***t=arguments[e];var n***REMOVED***for(var i=arguments.length,o=new Array(i),s=0;i>s;++s)o[s]=arguments[s];t&&o.pop();var n=new r(o).promise();return void 0!==t?n.spread(t):n***REMOVED******REMOVED******REMOVED***,***REMOVED***"./util.js":38***REMOVED***],19:[function(t,e)***REMOVED***"use strict";e.exports=function(e,r,n,i,o)***REMOVED***function s(t,e,r,n)***REMOVED***this.constructor$(t),this._promise._captureStackTrace();var i=c();this._callback=null===i?e:i.bind(e),this._preservedValues=n===o?new Array(this.length()):null,this._limit=r,this._inFlight=0,this._queue=r>=1?[]:d,l.invoke(a,this,void 0)***REMOVED***function a()***REMOVED***this._init$(void 0,-2)***REMOVED***function u(t,e,r,n)***REMOVED***var i="object"==typeof r&&null!==r?r.concurrency:0;return i="number"==typeof i&&isFinite(i)&&i>=1?i:0,new s(t,e,i,n)***REMOVED***var c=e._getDomain,l=t("./async.js"),h=t("./util.js"),p=h.tryCatch,f=h.errorObj,_=***REMOVED******REMOVED***,d=[];h.inherits(s,r),s.prototype._init=function()***REMOVED******REMOVED***,s.prototype._promiseFulfilled=function(t,r)***REMOVED***var n=this._values,o=this.length(),s=this._preservedValues,a=this._limit;if(n[r]===_)***REMOVED***if(n[r]=t,a>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return***REMOVED***else***REMOVED***if(a>=1&&this._inFlight>=a)return n[r]=t,void this._queue.push(r);null!==s&&(s[r]=t);var u=this._callback,c=this._promise._boundValue();this._promise._pushContext();var l=p(u).call(c,t,r,o);if(this._promise._popContext(),l===f)return this._reject(l.e);var h=i(l,this._promise);if(h instanceof e)***REMOVED***if(h=h._target(),h._isPending())return a>=1&&this._inFlight++,n[r]=_,h._proxyPromiseArray(this,r);if(!h._isFulfilled())return this._reject(h._reason());l=h._value()***REMOVED***n[r]=l***REMOVED***var d=++this._totalResolved;d>=o&&(null!==s?this._filter(n,s):this._resolve(n))***REMOVED***,s.prototype._drainQueue=function()***REMOVED***for(var t=this._queue,e=this._limit,r=this._values;t.length>0&&this._inFlight<e;)***REMOVED***if(this._isResolved())return;var n=t.pop();this._promiseFulfilled(r[n],n)***REMOVED******REMOVED***,s.prototype._filter=function(t,e)***REMOVED***for(var r=e.length,n=new Array(r),i=0,o=0;r>o;++o)t[o]&&(n[i++]=e[o]);n.length=i,this._resolve(n)***REMOVED***,s.prototype.preservedValues=function()***REMOVED***return this._preservedValues***REMOVED***,e.prototype.map=function(t,e)***REMOVED***return"function"!=typeof t?n("fn must be a function\n\n    See http://goo.gl/916lJJ\n"):u(this,t,e,null).promise()***REMOVED***,e.map=function(t,e,r,i)***REMOVED***return"function"!=typeof e?n("fn must be a function\n\n    See http://goo.gl/916lJJ\n"):u(t,e,r,i).promise()***REMOVED******REMOVED******REMOVED***,***REMOVED***"./async.js":2,"./util.js":38***REMOVED***],20:[function(t,e)***REMOVED***"use strict";e.exports=function(e,r,n,i)***REMOVED***var o=t("./util.js"),s=o.tryCatch;e.method=function(t)***REMOVED***if("function"!=typeof t)throw new e.TypeError("fn must be a function\n\n    See http://goo.gl/916lJJ\n");return function()***REMOVED***var n=new e(r);n._captureStackTrace(),n._pushContext();var i=s(t).apply(this,arguments);return n._popContext(),n._resolveFromSyncValue(i),n***REMOVED******REMOVED***,e.attempt=e["try"]=function(t,n,a)***REMOVED***if("function"!=typeof t)return i("fn must be a function\n\n    See http://goo.gl/916lJJ\n");var u=new e(r);u._captureStackTrace(),u._pushContext();var c=o.isArray(n)?s(t).apply(a,n):s(t).call(a,n);return u._popContext(),u._resolveFromSyncValue(c),u***REMOVED***,e.prototype._resolveFromSyncValue=function(t)***REMOVED***t===o.errorObj?this._rejectCallback(t.e,!1,!0):this._resolveCallback(t,!0)***REMOVED******REMOVED******REMOVED***,***REMOVED***"./util.js":38***REMOVED***],21:[function(t,e)***REMOVED***"use strict";e.exports=function(e)***REMOVED***function r(t,e)***REMOVED***var r=this;if(!o.isArray(t))return n.call(r,t,e);var i=a(e).apply(r._boundValue(),[null].concat(t));i===u&&s.throwLater(i.e)***REMOVED***function n(t,e)***REMOVED***var r=this,n=r._boundValue(),i=void 0===t?a(e).call(n,null):a(e).call(n,null,t);i===u&&s.throwLater(i.e)***REMOVED***function i(t,e)***REMOVED***var r=this;if(!t)***REMOVED***var n=r._target(),i=n._getCarriedStackTrace();i.cause=t,t=i***REMOVED***var o=a(e).call(r._boundValue(),t);o===u&&s.throwLater(o.e)***REMOVED***var o=t("./util.js"),s=t("./async.js"),a=o.tryCatch,u=o.errorObj;e.prototype.asCallback=e.prototype.nodeify=function(t,e)***REMOVED***if("function"==typeof t)***REMOVED***var o=n;void 0!==e&&Object(e).spread&&(o=r),this._then(o,i,void 0,this,t)***REMOVED***return this***REMOVED******REMOVED******REMOVED***,***REMOVED***"./async.js":2,"./util.js":38***REMOVED***],22:[function(t,e)***REMOVED***"use strict";e.exports=function(e,r)***REMOVED***var n=t("./util.js"),i=t("./async.js"),o=n.tryCatch,s=n.errorObj;e.prototype.progressed=function(t)***REMOVED***return this._then(void 0,void 0,t,void 0,void 0)***REMOVED***,e.prototype._progress=function(t)***REMOVED***this._isFollowingOrFulfilledOrRejected()||this._target()._progressUnchecked(t)***REMOVED***,e.prototype._progressHandlerAt=function(t)***REMOVED***return 0===t?this._progressHandler0:this[(t<<2)+t-5+2]***REMOVED***,e.prototype._doProgressWith=function(t)***REMOVED***var r=t.value,i=t.handler,a=t.promise,u=t.receiver,c=o(i).call(u,r);if(c===s)***REMOVED***if(null!=c.e&&"StopProgressPropagation"!==c.e.name)***REMOVED***var l=n.canAttachTrace(c.e)?c.e:new Error(n.toString(c.e));a._attachExtraTrace(l),a._progress(c.e)***REMOVED******REMOVED***else c instanceof e?c._then(a._progress,null,null,a,void 0):a._progress(c)***REMOVED***,e.prototype._progressUnchecked=function(t)***REMOVED***for(var n=this._length(),o=this._progress,s=0;n>s;s++)***REMOVED***var a=this._progressHandlerAt(s),u=this._promiseAt(s);if(u instanceof e)"function"==typeof a?i.invoke(this._doProgressWith,this,***REMOVED***handler:a,promise:u,receiver:this._receiverAt(s),value:t***REMOVED***):i.invoke(o,u,t);else***REMOVED***var c=this._receiverAt(s);"function"==typeof a?a.call(c,t,u):c instanceof r&&!c._isResolved()&&c._promiseProgressed(t,u)***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***,***REMOVED***"./async.js":2,"./util.js":38***REMOVED***],23:[function(t,e)***REMOVED***"use strict";e.exports=function()***REMOVED***function e(t)***REMOVED***if("function"!=typeof t)throw new h("the promise constructor requires a resolver function\n\n    See http://goo.gl/EC22Yn\n");if(this.constructor!==e)throw new h("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/KsIlge\n");this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._progressHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._settledValue=void 0,t!==p&&this._resolveFromResolver(t)***REMOVED***function r(t)***REMOVED***var r=new e(p);r._fulfillmentHandler0=t,r._rejectionHandler0=t,r._progressHandler0=t,r._promise0=t,r._receiver0=t,r._settledValue=t***REMOVED***var n,i=function()***REMOVED***return new h("circular promise resolution chain\n\n    See http://goo.gl/LhFpo0\n")***REMOVED***,o=function()***REMOVED***return new e.PromiseInspection(this._target())***REMOVED***,s=function(t)***REMOVED***return e.reject(new h(t))***REMOVED***,a=t("./util.js");n=a.isNode?function()***REMOVED***var t=process.domain;return void 0===t&&(t=null),t***REMOVED***:function()***REMOVED***return null***REMOVED***,a.notEnumerableProp(e,"_getDomain",n);var u=***REMOVED******REMOVED***,c=t("./async.js"),l=t("./errors.js"),h=e.TypeError=l.TypeError;e.RangeError=l.RangeError,e.CancellationError=l.CancellationError,e.TimeoutError=l.TimeoutError,e.OperationalError=l.OperationalError,e.RejectionError=l.OperationalError,e.AggregateError=l.AggregateError;var p=function()***REMOVED******REMOVED***,f=***REMOVED******REMOVED***,_=***REMOVED***e:null***REMOVED***,d=t("./thenables.js")(e,p),v=t("./promise_array.js")(e,p,d,s),y=t("./captured_trace.js")(),g=t("./debuggability.js")(e,y),m=t("./context.js")(e,y,g),j=t("./catch_filter.js")(_),b=t("./promise_resolver.js"),w=b._nodebackForPromise,k=a.errorObj,E=a.tryCatch;return e.prototype.toString=function()***REMOVED***return"[object Promise]"***REMOVED***,e.prototype.caught=e.prototype["catch"]=function(t)***REMOVED***var r=arguments.length;if(r>1)***REMOVED***var n,i=new Array(r-1),o=0;for(n=0;r-1>n;++n)***REMOVED***var s=arguments[n];if("function"!=typeof s)return e.reject(new h("Catch filter must inherit from Error or be a simple predicate function\n\n    See http://goo.gl/o84o68\n"));i[o++]=s***REMOVED***i.length=o,t=arguments[n];var a=new j(i,t,this);return this._then(void 0,a.doFilter,void 0,a,void 0)***REMOVED***return this._then(void 0,t,void 0,void 0,void 0)***REMOVED***,e.prototype.reflect=function()***REMOVED***return this._then(o,o,void 0,this,void 0)***REMOVED***,e.prototype.then=function(t,e,r)***REMOVED***if(g()&&arguments.length>0&&"function"!=typeof t&&"function"!=typeof e)***REMOVED***var n=".then() only accepts functions but was passed: "+a.classString(t);arguments.length>1&&(n+=", "+a.classString(e)),this._warn(n)***REMOVED***return this._then(t,e,r,void 0,void 0)***REMOVED***,e.prototype.done=function(t,e,r)***REMOVED***var n=this._then(t,e,r,void 0,void 0);
n._setIsFinal()***REMOVED***,e.prototype.spread=function(t,e)***REMOVED***return this.all()._then(t,e,void 0,f,void 0)***REMOVED***,e.prototype.isCancellable=function()***REMOVED***return!this.isResolved()&&this._cancellable()***REMOVED***,e.prototype.toJSON=function()***REMOVED***var t=***REMOVED***isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0***REMOVED***;return this.isFulfilled()?(t.fulfillmentValue=this.value(),t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this.reason(),t.isRejected=!0),t***REMOVED***,e.prototype.all=function()***REMOVED***return new v(this).promise()***REMOVED***,e.prototype.error=function(t)***REMOVED***return this.caught(a.originatesFromRejection,t)***REMOVED***,e.is=function(t)***REMOVED***return t instanceof e***REMOVED***,e.fromNode=function(t)***REMOVED***var r=new e(p),n=E(t)(w(r));return n===k&&r._rejectCallback(n.e,!0,!0),r***REMOVED***,e.all=function(t)***REMOVED***return new v(t).promise()***REMOVED***,e.defer=e.pending=function()***REMOVED***var t=new e(p);return new b(t)***REMOVED***,e.cast=function(t)***REMOVED***var r=d(t);if(!(r instanceof e))***REMOVED***var n=r;r=new e(p),r._fulfillUnchecked(n)***REMOVED***return r***REMOVED***,e.resolve=e.fulfilled=e.cast,e.reject=e.rejected=function(t)***REMOVED***var r=new e(p);return r._captureStackTrace(),r._rejectCallback(t,!0),r***REMOVED***,e.setScheduler=function(t)***REMOVED***if("function"!=typeof t)throw new h("fn must be a function\n\n    See http://goo.gl/916lJJ\n");var e=c._schedule;return c._schedule=t,e***REMOVED***,e.prototype._then=function(t,r,i,o,s)***REMOVED***var a=void 0!==s,u=a?s:new e(p);a||(u._propagateFrom(this,5),u._captureStackTrace());var l=this._target();l!==this&&(void 0===o&&(o=this._boundTo),a||u._setIsMigrated());var h=l._addCallbacks(t,r,i,u,o,n());return l._isResolved()&&!l._isSettlePromisesQueued()&&c.invoke(l._settlePromiseAtPostResolution,l,h),u***REMOVED***,e.prototype._settlePromiseAtPostResolution=function(t)***REMOVED***this._isRejectionUnhandled()&&this._unsetRejectionIsUnhandled(),this._settlePromiseAt(t)***REMOVED***,e.prototype._length=function()***REMOVED***return 131071&this._bitField***REMOVED***,e.prototype._isFollowingOrFulfilledOrRejected=function()***REMOVED***return(939524096&this._bitField)>0***REMOVED***,e.prototype._isFollowing=function()***REMOVED***return 536870912===(536870912&this._bitField)***REMOVED***,e.prototype._setLength=function(t)***REMOVED***this._bitField=-131072&this._bitField|131071&t***REMOVED***,e.prototype._setFulfilled=function()***REMOVED***this._bitField=268435456|this._bitField***REMOVED***,e.prototype._setRejected=function()***REMOVED***this._bitField=134217728|this._bitField***REMOVED***,e.prototype._setFollowing=function()***REMOVED***this._bitField=536870912|this._bitField***REMOVED***,e.prototype._setIsFinal=function()***REMOVED***this._bitField=33554432|this._bitField***REMOVED***,e.prototype._isFinal=function()***REMOVED***return(33554432&this._bitField)>0***REMOVED***,e.prototype._cancellable=function()***REMOVED***return(67108864&this._bitField)>0***REMOVED***,e.prototype._setCancellable=function()***REMOVED***this._bitField=67108864|this._bitField***REMOVED***,e.prototype._unsetCancellable=function()***REMOVED***this._bitField=-67108865&this._bitField***REMOVED***,e.prototype._setIsMigrated=function()***REMOVED***this._bitField=4194304|this._bitField***REMOVED***,e.prototype._unsetIsMigrated=function()***REMOVED***this._bitField=-4194305&this._bitField***REMOVED***,e.prototype._isMigrated=function()***REMOVED***return(4194304&this._bitField)>0***REMOVED***,e.prototype._receiverAt=function(t)***REMOVED***var e=0===t?this._receiver0:this[5*t-5+4];return e===u?void 0:void 0===e&&this._isBound()?this._boundValue():e***REMOVED***,e.prototype._promiseAt=function(t)***REMOVED***return 0===t?this._promise0:this[5*t-5+3]***REMOVED***,e.prototype._fulfillmentHandlerAt=function(t)***REMOVED***return 0===t?this._fulfillmentHandler0:this[5*t-5+0]***REMOVED***,e.prototype._rejectionHandlerAt=function(t)***REMOVED***return 0===t?this._rejectionHandler0:this[5*t-5+1]***REMOVED***,e.prototype._boundValue=function()***REMOVED***var t=this._boundTo;return void 0!==t&&t instanceof e?t.isFulfilled()?t.value():void 0:t***REMOVED***,e.prototype._migrateCallbacks=function(t,r)***REMOVED***var n=t._fulfillmentHandlerAt(r),i=t._rejectionHandlerAt(r),o=t._progressHandlerAt(r),s=t._promiseAt(r),a=t._receiverAt(r);s instanceof e&&s._setIsMigrated(),void 0===a&&(a=u),this._addCallbacks(n,i,o,s,a,null)***REMOVED***,e.prototype._addCallbacks=function(t,e,r,n,i,o)***REMOVED***var s=this._length();if(s>=131066&&(s=0,this._setLength(0)),0===s)this._promise0=n,void 0!==i&&(this._receiver0=i),"function"!=typeof t||this._isCarryingStackTrace()||(this._fulfillmentHandler0=null===o?t:o.bind(t)),"function"==typeof e&&(this._rejectionHandler0=null===o?e:o.bind(e)),"function"==typeof r&&(this._progressHandler0=null===o?r:o.bind(r));else***REMOVED***var a=5*s-5;this[a+3]=n,this[a+4]=i,"function"==typeof t&&(this[a+0]=null===o?t:o.bind(t)),"function"==typeof e&&(this[a+1]=null===o?e:o.bind(e)),"function"==typeof r&&(this[a+2]=null===o?r:o.bind(r))***REMOVED***return this._setLength(s+1),s***REMOVED***,e.prototype._setProxyHandlers=function(t,e)***REMOVED***var r=this._length();if(r>=131066&&(r=0,this._setLength(0)),0===r)this._promise0=e,this._receiver0=t;else***REMOVED***var n=5*r-5;this[n+3]=e,this[n+4]=t***REMOVED***this._setLength(r+1)***REMOVED***,e.prototype._proxyPromiseArray=function(t,e)***REMOVED***this._setProxyHandlers(t,e)***REMOVED***,e.prototype._resolveCallback=function(t,r)***REMOVED***if(!this._isFollowingOrFulfilledOrRejected())***REMOVED***if(t===this)return this._rejectCallback(i(),!1,!0);var n=d(t,this);if(!(n instanceof e))return this._fulfill(t);var o=1|(r?4:0);this._propagateFrom(n,o);var s=n._target();if(s._isPending())***REMOVED***for(var a=this._length(),u=0;a>u;++u)s._migrateCallbacks(this,u);this._setFollowing(),this._setLength(0),this._setFollowee(s)***REMOVED***else s._isFulfilled()?this._fulfillUnchecked(s._value()):this._rejectUnchecked(s._reason(),s._getCarriedStackTrace())***REMOVED******REMOVED***,e.prototype._rejectCallback=function(t,e,r)***REMOVED***r||a.markAsOriginatingFromRejection(t);var n=a.ensureErrorObject(t),i=n===t;this._attachExtraTrace(n,e?i:!1),this._reject(t,i?void 0:n)***REMOVED***,e.prototype._resolveFromResolver=function(t)***REMOVED***var e=this;this._captureStackTrace(),this._pushContext();var r=!0,n=E(t)(function(t)***REMOVED***null!==e&&(e._resolveCallback(t),e=null)***REMOVED***,function(t)***REMOVED***null!==e&&(e._rejectCallback(t,r),e=null)***REMOVED***);r=!1,this._popContext(),void 0!==n&&n===k&&null!==e&&(e._rejectCallback(n.e,!0,!0),e=null)***REMOVED***,e.prototype._settlePromiseFromHandler=function(t,e,r,n)***REMOVED***if(!n._isRejected())***REMOVED***n._pushContext();var o;if(o=e!==f||this._isRejected()?E(t).call(e,r):E(t).apply(this._boundValue(),r),n._popContext(),o===k||o===n||o===_)***REMOVED***var s=o===n?i():o.e;n._rejectCallback(s,!1,!0)***REMOVED***else n._resolveCallback(o)***REMOVED******REMOVED***,e.prototype._target=function()***REMOVED***for(var t=this;t._isFollowing();)t=t._followee();return t***REMOVED***,e.prototype._followee=function()***REMOVED***return this._rejectionHandler0***REMOVED***,e.prototype._setFollowee=function(t)***REMOVED***this._rejectionHandler0=t***REMOVED***,e.prototype._cleanValues=function()***REMOVED***this._cancellable()&&(this._cancellationParent=void 0)***REMOVED***,e.prototype._propagateFrom=function(t,e)***REMOVED***(1&e)>0&&t._cancellable()&&(this._setCancellable(),this._cancellationParent=t),(4&e)>0&&t._isBound()&&this._setBoundTo(t._boundTo)***REMOVED***,e.prototype._fulfill=function(t)***REMOVED***this._isFollowingOrFulfilledOrRejected()||this._fulfillUnchecked(t)***REMOVED***,e.prototype._reject=function(t,e)***REMOVED***this._isFollowingOrFulfilledOrRejected()||this._rejectUnchecked(t,e)***REMOVED***,e.prototype._settlePromiseAt=function(t)***REMOVED***var r=this._promiseAt(t),n=r instanceof e;if(n&&r._isMigrated())return r._unsetIsMigrated(),c.invoke(this._settlePromiseAt,this,t);var i=this._isFulfilled()?this._fulfillmentHandlerAt(t):this._rejectionHandlerAt(t),o=this._isCarryingStackTrace()?this._getCarriedStackTrace():void 0,s=this._settledValue,a=this._receiverAt(t);this._clearCallbackDataAtIndex(t),"function"==typeof i?n?this._settlePromiseFromHandler(i,a,s,r):i.call(a,s,r):a instanceof v?a._isResolved()||(this._isFulfilled()?a._promiseFulfilled(s,r):a._promiseRejected(s,r)):n&&(this._isFulfilled()?r._fulfill(s):r._reject(s,o)),t>=4&&4===(31&t)&&c.invokeLater(this._setLength,this,0)***REMOVED***,e.prototype._clearCallbackDataAtIndex=function(t)***REMOVED***if(0===t)this._isCarryingStackTrace()||(this._fulfillmentHandler0=void 0),this._rejectionHandler0=this._progressHandler0=this._receiver0=this._promise0=void 0;else***REMOVED***var e=5*t-5;this[e+3]=this[e+4]=this[e+0]=this[e+1]=this[e+2]=void 0***REMOVED******REMOVED***,e.prototype._isSettlePromisesQueued=function()***REMOVED***return-1073741824===(-1073741824&this._bitField)***REMOVED***,e.prototype._setSettlePromisesQueued=function()***REMOVED***this._bitField=-1073741824|this._bitField***REMOVED***,e.prototype._unsetSettlePromisesQueued=function()***REMOVED***this._bitField=1073741823&this._bitField***REMOVED***,e.prototype._queueSettlePromises=function()***REMOVED***c.settlePromises(this),this._setSettlePromisesQueued()***REMOVED***,e.prototype._fulfillUnchecked=function(t)***REMOVED***if(t===this)***REMOVED***var e=i();return this._attachExtraTrace(e),this._rejectUnchecked(e,void 0)***REMOVED***this._setFulfilled(),this._settledValue=t,this._cleanValues(),this._length()>0&&this._queueSettlePromises()***REMOVED***,e.prototype._rejectUncheckedCheckError=function(t)***REMOVED***var e=a.ensureErrorObject(t);this._rejectUnchecked(t,e===t?void 0:e)***REMOVED***,e.prototype._rejectUnchecked=function(t,e)***REMOVED***if(t===this)***REMOVED***var r=i();return this._attachExtraTrace(r),this._rejectUnchecked(r)***REMOVED***return this._setRejected(),this._settledValue=t,this._cleanValues(),this._isFinal()?void c.throwLater(function(t)***REMOVED***throw"stack"in t&&c.invokeFirst(y.unhandledRejection,void 0,t),t***REMOVED***,void 0===e?t:e):(void 0!==e&&e!==t&&this._setCarriedStackTrace(e),void(this._length()>0?this._queueSettlePromises():this._ensurePossibleRejectionHandled()))***REMOVED***,e.prototype._settlePromises=function()***REMOVED***this._unsetSettlePromisesQueued();for(var t=this._length(),e=0;t>e;e++)this._settlePromiseAt(e)***REMOVED***,a.notEnumerableProp(e,"_makeSelfResolutionError",i),t("./progress.js")(e,v),t("./method.js")(e,p,d,s),t("./bind.js")(e,p,d),t("./finally.js")(e,_,d),t("./direct_resolve.js")(e),t("./synchronous_inspection.js")(e),t("./join.js")(e,v,d,p),e.Promise=e,t("./map.js")(e,v,s,d,p),t("./cancel.js")(e),t("./using.js")(e,s,d,m),t("./generators.js")(e,s,p,d),t("./nodeify.js")(e),t("./call_get.js")(e),t("./props.js")(e,v,d,s),t("./race.js")(e,p,d,s),t("./reduce.js")(e,v,s,d,p),t("./settle.js")(e,v),t("./some.js")(e,v,s),t("./promisify.js")(e,p),t("./any.js")(e),t("./each.js")(e,p),t("./timers.js")(e,p),t("./filter.js")(e,p),a.toFastProperties(e),a.toFastProperties(e.prototype),r(***REMOVED***a:1***REMOVED***),r(***REMOVED***b:2***REMOVED***),r(***REMOVED***c:3***REMOVED***),r(1),r(function()***REMOVED******REMOVED***),r(void 0),r(!1),r(new e(p)),y.setBounds(c.firstLineError,a.lastLineError),e***REMOVED******REMOVED***,***REMOVED***"./any.js":1,"./async.js":2,"./bind.js":3,"./call_get.js":5,"./cancel.js":6,"./captured_trace.js":7,"./catch_filter.js":8,"./context.js":9,"./debuggability.js":10,"./direct_resolve.js":11,"./each.js":12,"./errors.js":13,"./filter.js":15,"./finally.js":16,"./generators.js":17,"./join.js":18,"./map.js":19,"./method.js":20,"./nodeify.js":21,"./progress.js":22,"./promise_array.js":24,"./promise_resolver.js":25,"./promisify.js":26,"./props.js":27,"./race.js":29,"./reduce.js":30,"./settle.js":32,"./some.js":33,"./synchronous_inspection.js":34,"./thenables.js":35,"./timers.js":36,"./using.js":37,"./util.js":38***REMOVED***],24:[function(t,e)***REMOVED***"use strict";e.exports=function(e,r,n,i)***REMOVED***function o(t)***REMOVED***switch(t)***REMOVED***case-2:return[];case-3:return***REMOVED******REMOVED******REMOVED******REMOVED***function s(t)***REMOVED***var n,i=this._promise=new e(r);t instanceof e&&(n=t,i._propagateFrom(n,5)),this._values=t,this._length=0,this._totalResolved=0,this._init(void 0,-2)***REMOVED***var a=t("./util.js"),u=a.isArray;return s.prototype.length=function()***REMOVED***return this._length***REMOVED***,s.prototype.promise=function()***REMOVED***return this._promise***REMOVED***,s.prototype._init=function c(t,r)***REMOVED***var s=n(this._values,this._promise);if(s instanceof e)***REMOVED***if(s=s._target(),this._values=s,!s._isFulfilled())return s._isPending()?void s._then(c,this._reject,void 0,this,r):void this._reject(s._reason());if(s=s._value(),!u(s))***REMOVED***var a=new e.TypeError("expecting an array, a promise or a thenable\n\n    See http://goo.gl/s8MMhc\n");return void this.__hardReject__(a)***REMOVED******REMOVED***else if(!u(s))return void this._promise._reject(i("expecting an array, a promise or a thenable\n\n    See http://goo.gl/s8MMhc\n")._reason());if(0===s.length)return void(-5===r?this._resolveEmptyArray():this._resolve(o(r)));var l=this.getActualLength(s.length);this._length=l,this._values=this.shouldCopyValues()?new Array(l):this._values;for(var h=this._promise,p=0;l>p;++p)***REMOVED***var f=this._isResolved(),_=n(s[p],h);_ instanceof e?(_=_._target(),f?_._ignoreRejections():_._isPending()?_._proxyPromiseArray(this,p):_._isFulfilled()?this._promiseFulfilled(_._value(),p):this._promiseRejected(_._reason(),p)):f||this._promiseFulfilled(_,p)***REMOVED******REMOVED***,s.prototype._isResolved=function()***REMOVED***return null===this._values***REMOVED***,s.prototype._resolve=function(t)***REMOVED***this._values=null,this._promise._fulfill(t)***REMOVED***,s.prototype.__hardReject__=s.prototype._reject=function(t)***REMOVED***this._values=null,this._promise._rejectCallback(t,!1,!0)***REMOVED***,s.prototype._promiseProgressed=function(t,e)***REMOVED***this._promise._progress(***REMOVED***index:e,value:t***REMOVED***)***REMOVED***,s.prototype._promiseFulfilled=function(t,e)***REMOVED***this._values[e]=t;var r=++this._totalResolved;r>=this._length&&this._resolve(this._values)***REMOVED***,s.prototype._promiseRejected=function(t)***REMOVED***this._totalResolved++,this._reject(t)***REMOVED***,s.prototype.shouldCopyValues=function()***REMOVED***return!0***REMOVED***,s.prototype.getActualLength=function(t)***REMOVED***return t***REMOVED***,s***REMOVED******REMOVED***,***REMOVED***"./util.js":38***REMOVED***],25:[function(t,e)***REMOVED***"use strict";function r(t)***REMOVED***return t instanceof Error&&p.getPrototypeOf(t)===Error.prototype***REMOVED***function n(t)***REMOVED***var e;if(r(t))***REMOVED***e=new l(t),e.name=t.name,e.message=t.message,e.stack=t.stack;for(var n=p.keys(t),i=0;i<n.length;++i)***REMOVED***var o=n[i];f.test(o)||(e[o]=t[o])***REMOVED***return e***REMOVED***return s.markAsOriginatingFromRejection(t),t***REMOVED***function i(t)***REMOVED***return function(e,r)***REMOVED***if(null!==t)***REMOVED***if(e)***REMOVED***var i=n(a(e));t._attachExtraTrace(i),t._reject(i)***REMOVED***else if(arguments.length>2)***REMOVED***for(var o=arguments.length,s=new Array(o-1),u=1;o>u;++u)s[u-1]=arguments[u];t._fulfill(s)***REMOVED***else t._fulfill(r);t=null***REMOVED******REMOVED******REMOVED***var o,s=t("./util.js"),a=s.maybeWrapAsError,u=t("./errors.js"),c=u.TimeoutError,l=u.OperationalError,h=s.haveGetters,p=t("./es5.js"),f=/^(?:name|message|stack|cause)$/;if(o=h?function(t)***REMOVED***this.promise=t***REMOVED***:function(t)***REMOVED***this.promise=t,this.asCallback=i(t),this.callback=this.asCallback***REMOVED***,h)***REMOVED***var _=***REMOVED***get:function()***REMOVED***return i(this.promise)***REMOVED******REMOVED***;p.defineProperty(o.prototype,"asCallback",_),p.defineProperty(o.prototype,"callback",_)***REMOVED***o._nodebackForPromise=i,o.prototype.toString=function()***REMOVED***return"[object PromiseResolver]"***REMOVED***,o.prototype.resolve=o.prototype.fulfill=function(t)***REMOVED***if(!(this instanceof o))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\n\n    See http://goo.gl/sdkXL9\n");this.promise._resolveCallback(t)***REMOVED***,o.prototype.reject=function(t)***REMOVED***if(!(this instanceof o))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\n\n    See http://goo.gl/sdkXL9\n");this.promise._rejectCallback(t)***REMOVED***,o.prototype.progress=function(t)***REMOVED***if(!(this instanceof o))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\n\n    See http://goo.gl/sdkXL9\n");this.promise._progress(t)***REMOVED***,o.prototype.cancel=function(t)***REMOVED***this.promise.cancel(t)***REMOVED***,o.prototype.timeout=function()***REMOVED***this.reject(new c("timeout"))***REMOVED***,o.prototype.isResolved=function()***REMOVED***return this.promise.isResolved()***REMOVED***,o.prototype.toJSON=function()***REMOVED***return this.promise.toJSON()***REMOVED***,e.exports=o***REMOVED***,***REMOVED***"./errors.js":13,"./es5.js":14,"./util.js":38***REMOVED***],26:[function(t,e)***REMOVED***"use strict";e.exports=function(e,r)***REMOVED***function n(t)***REMOVED***return!w.test(t)***REMOVED***function i(t)***REMOVED***try***REMOVED***return t.__isPromisified__===!0***REMOVED***catch(e)***REMOVED***return!1***REMOVED******REMOVED***function o(t,e,r)***REMOVED***var n=f.getDataPropertyOrDefault(t,e+r,j);return n?i(n):!1***REMOVED***function s(t,e,r)***REMOVED***for(var n=0;n<t.length;n+=2)***REMOVED***var i=t[n];if(r.test(i))for(var o=i.replace(r,""),s=0;s<t.length;s+=2)if(t[s]===o)throw new g("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/iWrZbw\n".replace("%s",e))***REMOVED******REMOVED***function a(t,e,r,n)***REMOVED***for(var a=f.inheritedDataKeys(t),u=[],c=0;c<a.length;++c)***REMOVED***var l=a[c],h=t[l],p=n===k?!0:k(l,h,t);"function"!=typeof h||i(h)||o(t,l,e)||!n(l,h,t,p)||u.push(l,h)***REMOVED***return s(u,e,r),u***REMOVED***function u(t,n,i,o)***REMOVED***function s()***REMOVED***var i=n;n===p&&(i=this);var o=new e(r);o._captureStackTrace();var s="string"==typeof u&&this!==a?this[u]:t,c=_(o);try***REMOVED***s.apply(i,d(arguments,c))***REMOVED***catch(l)***REMOVED***o._rejectCallback(v(l),!0,!0)***REMOVED***return o***REMOVED***var a=function()***REMOVED***return this***REMOVED***(),u=t;return"string"==typeof u&&(t=o),f.notEnumerableProp(s,"__isPromisified__",!0),s***REMOVED***function c(t,e,r,n)***REMOVED***for(var i=new RegExp(E(e)+"$"),o=a(t,e,i,r),s=0,u=o.length;u>s;s+=2)***REMOVED***var c=o[s],l=o[s+1],h=c+e;if(n===F)t[h]=F(c,p,c,l,e);else***REMOVED***var _=n(l,function()***REMOVED***return F(c,p,c,l,e)***REMOVED***);f.notEnumerableProp(_,"__isPromisified__",!0),t[h]=_***REMOVED******REMOVED***return f.toFastProperties(t),t***REMOVED***function l(t,e)***REMOVED***return F(t,e,void 0,t)***REMOVED***var h,p=***REMOVED******REMOVED***,f=t("./util.js"),_=t("./promise_resolver.js")._nodebackForPromise,d=f.withAppended,v=f.maybeWrapAsError,y=f.canEvaluate,g=t("./errors").TypeError,m="Async",j=***REMOVED***__isPromisified__:!0***REMOVED***,b=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],w=new RegExp("^(?:"+b.join("|")+")$"),k=function(t)***REMOVED***return f.isIdentifier(t)&&"_"!==t.charAt(0)&&"constructor"!==t***REMOVED***,E=function(t)***REMOVED***return t.replace(/([$])/,"\\$")***REMOVED***,F=y?h:u;e.promisify=function(t,e)***REMOVED***if("function"!=typeof t)throw new g("fn must be a function\n\n    See http://goo.gl/916lJJ\n");if(i(t))return t;var r=l(t,arguments.length<2?p:e);return f.copyDescriptors(t,r,n),r***REMOVED***,e.promisifyAll=function(t,e)***REMOVED***if("function"!=typeof t&&"object"!=typeof t)throw new g("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/9ITlV0\n");e=Object(e);var r=e.suffix;"string"!=typeof r&&(r=m);var n=e.filter;"function"!=typeof n&&(n=k);var i=e.promisifier;if("function"!=typeof i&&(i=F),!f.isIdentifier(r))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/8FZo5V\n");for(var o=f.inheritedDataKeys(t),s=0;s<o.length;++s)***REMOVED***var a=t[o[s]];"constructor"!==o[s]&&f.isClass(a)&&(c(a.prototype,r,n,i),c(a,r,n,i))***REMOVED***return c(t,r,n,i)***REMOVED******REMOVED******REMOVED***,***REMOVED***"./errors":13,"./promise_resolver.js":25,"./util.js":38***REMOVED***],27:[function(t,e)***REMOVED***"use strict";e.exports=function(e,r,n,i)***REMOVED***function o(t)***REMOVED***for(var e=c.keys(t),r=e.length,n=new Array(2*r),i=0;r>i;++i)***REMOVED***var o=e[i];n[i]=t[o],n[i+r]=o***REMOVED***this.constructor$(n)***REMOVED***function s(t)***REMOVED***var r,s=n(t);return u(s)?(r=s instanceof e?s._then(e.props,void 0,void 0,void 0,void 0):new o(s).promise(),s instanceof e&&r._propagateFrom(s,4),r):i("cannot await properties of a non-object\n\n    See http://goo.gl/OsFKC8\n")***REMOVED***var a=t("./util.js"),u=a.isObject,c=t("./es5.js");a.inherits(o,r),o.prototype._init=function()***REMOVED***this._init$(void 0,-3)***REMOVED***,o.prototype._promiseFulfilled=function(t,e)***REMOVED***this._values[e]=t;var r=++this._totalResolved;if(r>=this._length)***REMOVED***for(var n=***REMOVED******REMOVED***,i=this.length(),o=0,s=this.length();s>o;++o)n[this._values[o+i]]=this._values[o];this._resolve(n)***REMOVED******REMOVED***,o.prototype._promiseProgressed=function(t,e)***REMOVED***this._promise._progress(***REMOVED***key:this._values[e+this.length()],value:t***REMOVED***)***REMOVED***,o.prototype.shouldCopyValues=function()***REMOVED***return!1***REMOVED***,o.prototype.getActualLength=function(t)***REMOVED***return t>>1***REMOVED***,e.prototype.props=function()***REMOVED***return s(this)***REMOVED***,e.props=function(t)***REMOVED***return s(t)***REMOVED******REMOVED******REMOVED***,***REMOVED***"./es5.js":14,"./util.js":38***REMOVED***],28:[function(t,e)***REMOVED***"use strict";function r(t,e,r,n,i)***REMOVED***for(var o=0;i>o;++o)r[o+n]=t[o+e],t[o+e]=void 0***REMOVED***function n(t)***REMOVED***this._capacity=t,this._length=0,this._front=0***REMOVED***n.prototype._willBeOverCapacity=function(t)***REMOVED***return this._capacity<t***REMOVED***,n.prototype._pushOne=function(t)***REMOVED***var e=this.length();this._checkCapacity(e+1);var r=this._front+e&this._capacity-1;this[r]=t,this._length=e+1***REMOVED***,n.prototype._unshiftOne=function(t)***REMOVED***var e=this._capacity;this._checkCapacity(this.length()+1);var r=this._front,n=(r-1&e-1^e)-e;this[n]=t,this._front=n,this._length=this.length()+1***REMOVED***,n.prototype.unshift=function(t,e,r)***REMOVED***this._unshiftOne(r),this._unshiftOne(e),this._unshiftOne(t)***REMOVED***,n.prototype.push=function(t,e,r)***REMOVED***var n=this.length()+3;if(this._willBeOverCapacity(n))return this._pushOne(t),this._pushOne(e),void this._pushOne(r);var i=this._front+n-3;this._checkCapacity(n);var o=this._capacity-1;this[i+0&o]=t,this[i+1&o]=e,this[i+2&o]=r,this._length=n***REMOVED***,n.prototype.shift=function()***REMOVED***var t=this._front,e=this[t];return this[t]=void 0,this._front=t+1&this._capacity-1,this._length--,e***REMOVED***,n.prototype.length=function()***REMOVED***return this._length***REMOVED***,n.prototype._checkCapacity=function(t)***REMOVED***this._capacity<t&&this._resizeTo(this._capacity<<1)***REMOVED***,n.prototype._resizeTo=function(t)***REMOVED***var e=this._capacity;this._capacity=t;var n=this._front,i=this._length,o=n+i&e-1;r(this,0,this,e,o)***REMOVED***,e.exports=n***REMOVED***,***REMOVED******REMOVED***],29:[function(t,e)***REMOVED***"use strict";e.exports=function(e,r,n,i)***REMOVED***function o(t,o)***REMOVED***var u=n(t);if(u instanceof e)return a(u);if(!s(t))return i("expecting an array, a promise or a thenable\n\n    See http://goo.gl/s8MMhc\n");var c=new e(r);void 0!==o&&c._propagateFrom(o,5);for(var l=c._fulfill,h=c._reject,p=0,f=t.length;f>p;++p)***REMOVED***var _=t[p];(void 0!==_||p in t)&&e.cast(_)._then(l,h,void 0,c,null)***REMOVED***return c***REMOVED***var s=t("./util.js").isArray,a=function(t)***REMOVED***return t.then(function(e)***REMOVED***return o(e,t)***REMOVED***)***REMOVED***;e.race=function(t)***REMOVED***return o(t,void 0)***REMOVED***,e.prototype.race=function()***REMOVED***return o(this,void 0)***REMOVED******REMOVED******REMOVED***,***REMOVED***"./util.js":38***REMOVED***],30:[function(t,e)***REMOVED***"use strict";e.exports=function(e,r,n,i,o)***REMOVED***function s(t,r,n,s)***REMOVED***this.constructor$(t),this._promise._captureStackTrace(),this._preservedValues=s===o?[]:null,this._zerothIsAccum=void 0===n,this._gotAccum=!1,this._reducingIndex=this._zerothIsAccum?1:0,this._valuesPhase=void 0;var u=i(n,this._promise),h=!1,p=u instanceof e;p&&(u=u._target(),u._isPending()?u._proxyPromiseArray(this,-1):u._isFulfilled()?(n=u._value(),this._gotAccum=!0):(this._reject(u._reason()),h=!0)),p||this._zerothIsAccum||(this._gotAccum=!0);var f=c();this._callback=null===f?r:f.bind(r),this._accum=n,h||l.invoke(a,this,void 0)***REMOVED***function a()***REMOVED***this._init$(void 0,-5)***REMOVED***function u(t,e,r,i)***REMOVED***if("function"!=typeof e)return n("fn must be a function\n\n    See http://goo.gl/916lJJ\n");var o=new s(t,e,r,i);return o.promise()***REMOVED***var c=e._getDomain,l=t("./async.js"),h=t("./util.js"),p=h.tryCatch,f=h.errorObj;h.inherits(s,r),s.prototype._init=function()***REMOVED******REMOVED***,s.prototype._resolveEmptyArray=function()***REMOVED***(this._gotAccum||this._zerothIsAccum)&&this._resolve(null!==this._preservedValues?[]:this._accum)***REMOVED***,s.prototype._promiseFulfilled=function(t,r)***REMOVED***var n=this._values;n[r]=t;var o,s=this.length(),a=this._preservedValues,u=null!==a,c=this._gotAccum,l=this._valuesPhase;if(!l)for(l=this._valuesPhase=new Array(s),o=0;s>o;++o)l[o]=0;if(o=l[r],0===r&&this._zerothIsAccum?(this._accum=t,this._gotAccum=c=!0,l[r]=0===o?1:2):-1===r?(this._accum=t,this._gotAccum=c=!0):0===o?l[r]=1:(l[r]=2,this._accum=t),c)***REMOVED***for(var h,_=this._callback,d=this._promise._boundValue(),v=this._reducingIndex;s>v;++v)if(o=l[v],2!==o)***REMOVED***if(1!==o)return;if(t=n[v],this._promise._pushContext(),u?(a.push(t),h=p(_).call(d,t,v,s)):h=p(_).call(d,this._accum,t,v,s),this._promise._popContext(),h===f)return this._reject(h.e);var y=i(h,this._promise);if(y instanceof e)***REMOVED***if(y=y._target(),y._isPending())return l[v]=4,y._proxyPromiseArray(this,v);if(!y._isFulfilled())return this._reject(y._reason());h=y._value()***REMOVED***this._reducingIndex=v+1,this._accum=h***REMOVED***else this._reducingIndex=v+1;this._resolve(u?a:this._accum)***REMOVED******REMOVED***,e.prototype.reduce=function(t,e)***REMOVED***return u(this,t,e,null)***REMOVED***,e.reduce=function(t,e,r,n)***REMOVED***return u(t,e,r,n)***REMOVED******REMOVED******REMOVED***,***REMOVED***"./async.js":2,"./util.js":38***REMOVED***],31:[function(t,e)***REMOVED***"use strict";var r,n=t("./util"),i=function()***REMOVED***throw new Error("No async scheduler available\n\n    See http://goo.gl/m3OTXk\n")***REMOVED***;if(n.isNode&&"undefined"==typeof MutationObserver)***REMOVED***var o=global.setImmediate,s=process.nextTick;r=n.isRecentNode?function(t)***REMOVED***o.call(global,t)***REMOVED***:function(t)***REMOVED***s.call(process,t)***REMOVED******REMOVED***else"undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&window.navigator.standalone?r="undefined"!=typeof setImmediate?function(t)***REMOVED***setImmediate(t)***REMOVED***:"undefined"!=typeof setTimeout?function(t)***REMOVED***setTimeout(t,0)***REMOVED***:i:(r=function(t)***REMOVED***var e=document.createElement("div"),r=new MutationObserver(t);return r.observe(e,***REMOVED***attributes:!0***REMOVED***),function()***REMOVED***e.classList.toggle("foo")***REMOVED******REMOVED***,r.isStatic=!0);e.exports=r***REMOVED***,***REMOVED***"./util":38***REMOVED***],32:[function(t,e)***REMOVED***"use strict";e.exports=function(e,r)***REMOVED***function n(t)***REMOVED***this.constructor$(t)***REMOVED***var i=e.PromiseInspection,o=t("./util.js");o.inherits(n,r),n.prototype._promiseResolved=function(t,e)***REMOVED***this._values[t]=e;var r=++this._totalResolved;r>=this._length&&this._resolve(this._values)***REMOVED***,n.prototype._promiseFulfilled=function(t,e)***REMOVED***var r=new i;r._bitField=268435456,r._settledValue=t,this._promiseResolved(e,r)***REMOVED***,n.prototype._promiseRejected=function(t,e)***REMOVED***var r=new i;r._bitField=134217728,r._settledValue=t,this._promiseResolved(e,r)***REMOVED***,e.settle=function(t)***REMOVED***return new n(t).promise()***REMOVED***,e.prototype.settle=function()***REMOVED***return new n(this).promise()***REMOVED******REMOVED******REMOVED***,***REMOVED***"./util.js":38***REMOVED***],33:[function(t,e)***REMOVED***"use strict";e.exports=function(e,r,n)***REMOVED***function i(t)***REMOVED***this.constructor$(t),this._howMany=0,this._unwrap=!1,this._initialized=!1***REMOVED***function o(t,e)***REMOVED***if((0|e)!==e||0>e)return n("expecting a positive integer\n\n    See http://goo.gl/1wAmHx\n");var r=new i(t),o=r.promise();return r.setHowMany(e),r.init(),o***REMOVED***var s=t("./util.js"),a=t("./errors.js").RangeError,u=t("./errors.js").AggregateError,c=s.isArray;s.inherits(i,r),i.prototype._init=function()***REMOVED***if(this._initialized)***REMOVED***if(0===this._howMany)return void this._resolve([]);this._init$(void 0,-5);var t=c(this._values);!this._isResolved()&&t&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))***REMOVED******REMOVED***,i.prototype.init=function()***REMOVED***this._initialized=!0,this._init()***REMOVED***,i.prototype.setUnwrap=function()***REMOVED***this._unwrap=!0***REMOVED***,i.prototype.howMany=function()***REMOVED***return this._howMany***REMOVED***,i.prototype.setHowMany=function(t)***REMOVED***this._howMany=t***REMOVED***,i.prototype._promiseFulfilled=function(t)***REMOVED***this._addFulfilled(t),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),this._resolve(1===this.howMany()&&this._unwrap?this._values[0]:this._values))***REMOVED***,i.prototype._promiseRejected=function(t)***REMOVED***if(this._addRejected(t),this.howMany()>this._canPossiblyFulfill())***REMOVED***for(var e=new u,r=this.length();r<this._values.length;++r)e.push(this._values[r]);this._reject(e)***REMOVED******REMOVED***,i.prototype._fulfilled=function()***REMOVED***return this._totalResolved***REMOVED***,i.prototype._rejected=function()***REMOVED***return this._values.length-this.length()***REMOVED***,i.prototype._addRejected=function(t)***REMOVED***this._values.push(t)***REMOVED***,i.prototype._addFulfilled=function(t)***REMOVED***this._values[this._totalResolved++]=t***REMOVED***,i.prototype._canPossiblyFulfill=function()***REMOVED***return this.length()-this._rejected()***REMOVED***,i.prototype._getRangeError=function(t)***REMOVED***var e="Input array must contain at least "+this._howMany+" items but contains only "+t+" items";return new a(e)***REMOVED***,i.prototype._resolveEmptyArray=function()***REMOVED***this._reject(this._getRangeError(0))***REMOVED***,e.some=function(t,e)***REMOVED***return o(t,e)***REMOVED***,e.prototype.some=function(t)***REMOVED***return o(this,t)***REMOVED***,e._SomePromiseArray=i***REMOVED******REMOVED***,***REMOVED***"./errors.js":13,"./util.js":38***REMOVED***],34:[function(t,e)***REMOVED***"use strict";e.exports=function(t)***REMOVED***function e(t)***REMOVED***void 0!==t?(t=t._target(),this._bitField=t._bitField,this._settledValue=t._settledValue):(this._bitField=0,this._settledValue=void 0)***REMOVED***e.prototype.value=function()***REMOVED***if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/hc1DLj\n");return this._settledValue***REMOVED***,e.prototype.error=e.prototype.reason=function()***REMOVED***if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/hPuiwB\n");return this._settledValue***REMOVED***,e.prototype.isFulfilled=t.prototype._isFulfilled=function()***REMOVED***return(268435456&this._bitField)>0***REMOVED***,e.prototype.isRejected=t.prototype._isRejected=function()***REMOVED***return(134217728&this._bitField)>0***REMOVED***,e.prototype.isPending=t.prototype._isPending=function()***REMOVED***return 0===(402653184&this._bitField)***REMOVED***,e.prototype.isResolved=t.prototype._isResolved=function()***REMOVED***return(402653184&this._bitField)>0***REMOVED***,t.prototype.isPending=function()***REMOVED***return this._target()._isPending()***REMOVED***,t.prototype.isRejected=function()***REMOVED***return this._target()._isRejected()***REMOVED***,t.prototype.isFulfilled=function()***REMOVED***return this._target()._isFulfilled()***REMOVED***,t.prototype.isResolved=function()***REMOVED***return this._target()._isResolved()***REMOVED***,t.prototype._value=function()***REMOVED***return this._settledValue***REMOVED***,t.prototype._reason=function()***REMOVED***return this._unsetRejectionIsUnhandled(),this._settledValue***REMOVED***,t.prototype.value=function()***REMOVED***var t=this._target();if(!t.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/hc1DLj\n");return t._settledValue***REMOVED***,t.prototype.reason=function()***REMOVED***var t=this._target();if(!t.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/hPuiwB\n");return t._unsetRejectionIsUnhandled(),t._settledValue***REMOVED***,t.PromiseInspection=e***REMOVED******REMOVED***,***REMOVED******REMOVED***],35:[function(t,e)***REMOVED***"use strict";e.exports=function(e,r)***REMOVED***function n(t,n)***REMOVED***if(c(t))***REMOVED***if(t instanceof e)return t;if(o(t))***REMOVED***var l=new e(r);return t._then(l._fulfillUnchecked,l._rejectUncheckedCheckError,l._progressUnchecked,l,null),l***REMOVED***var h=a.tryCatch(i)(t);if(h===u)***REMOVED***n&&n._pushContext();var l=e.reject(h.e);return n&&n._popContext(),l***REMOVED***if("function"==typeof h)return s(t,h,n)***REMOVED***return t***REMOVED***function i(t)***REMOVED***return t.then***REMOVED***function o(t)***REMOVED***return l.call(t,"_promise0")***REMOVED***function s(t,n,i)***REMOVED***function o(t)***REMOVED***l&&(l._resolveCallback(t),l=null)***REMOVED***function s(t)***REMOVED***l&&(l._rejectCallback(t,p,!0),l=null)***REMOVED***function c(t)***REMOVED***l&&"function"==typeof l._progress&&l._progress(t)***REMOVED***var l=new e(r),h=l;i&&i._pushContext(),l._captureStackTrace(),i&&i._popContext();var p=!0,f=a.tryCatch(n).call(t,o,s,c);return p=!1,l&&f===u&&(l._rejectCallback(f.e,!0,!0),l=null),h***REMOVED***var a=t("./util.js"),u=a.errorObj,c=a.isObject,l=***REMOVED******REMOVED***.hasOwnProperty;return n***REMOVED******REMOVED***,***REMOVED***"./util.js":38***REMOVED***],36:[function(t,e)***REMOVED***"use strict";e.exports=function(e,r)***REMOVED***function n(t)***REMOVED***var e=this;return e instanceof Number&&(e=+e),clearTimeout(e),t***REMOVED***function i(t)***REMOVED***var e=this;throw e instanceof Number&&(e=+e),clearTimeout(e),t***REMOVED***var o=t("./util.js"),s=e.TimeoutError,a=function(t,e)***REMOVED***if(t.isPending())***REMOVED***var r;!o.isPrimitive(e)&&e instanceof Error?r=e:("string"!=typeof e&&(e="operation timed out"),r=new s(e)),o.markAsOriginatingFromRejection(r),t._attachExtraTrace(r),t._cancel(r)***REMOVED******REMOVED***,u=function(t)***REMOVED***return c(+this).thenReturn(t)***REMOVED***,c=e.delay=function(t,n)***REMOVED***if(void 0===n)***REMOVED***n=t,t=void 0;var i=new e(r);return setTimeout(function()***REMOVED***i._fulfill()***REMOVED***,n),i***REMOVED***return n=+n,e.resolve(t)._then(u,null,null,n,void 0)***REMOVED***;e.prototype.delay=function(t)***REMOVED***return c(this,t)***REMOVED***,e.prototype.timeout=function(t,e)***REMOVED***t=+t;var r=this.then().cancellable();r._cancellationParent=this;var o=setTimeout(function()***REMOVED***a(r,e)***REMOVED***,t);return r._then(n,i,void 0,o,void 0)***REMOVED******REMOVED******REMOVED***,***REMOVED***"./util.js":38***REMOVED***],37:[function(t,e)***REMOVED***"use strict";e.exports=function(e,r,n,i)***REMOVED***function o(t)***REMOVED***for(var r=t.length,n=0;r>n;++n)***REMOVED***var i=t[n];if(i.isRejected())return e.reject(i.error());t[n]=i._settledValue***REMOVED***return t***REMOVED***function s(t)***REMOVED***setTimeout(function()***REMOVED***throw t***REMOVED***,0)***REMOVED***function a(t)***REMOVED***var e=n(t);return e!==t&&"function"==typeof t._isDisposable&&"function"==typeof t._getDisposer&&t._isDisposable()&&e._setDisposable(t._getDisposer()),e***REMOVED***function u(t,r)***REMOVED***function i()***REMOVED***if(o>=u)return c.resolve();var l=a(t[o++]);if(l instanceof e&&l._isDisposable())***REMOVED***try***REMOVED***l=n(l._getDisposer().tryDispose(r),t.promise)***REMOVED***catch(h)***REMOVED***return s(h)***REMOVED***if(l instanceof e)return l._then(i,s,null,null,null)***REMOVED***i()***REMOVED***var o=0,u=t.length,c=e.defer();return i(),c.promise***REMOVED***function c(t)***REMOVED***var e=new v;return e._settledValue=t,e._bitField=268435456,u(this,e).thenReturn(t)***REMOVED***function l(t)***REMOVED***var e=new v;return e._settledValue=t,e._bitField=134217728,u(this,e).thenThrow(t)***REMOVED***function h(t,e,r)***REMOVED***this._data=t,this._promise=e,this._context=r***REMOVED***function p(t,e,r)***REMOVED***this.constructor$(t,e,r)***REMOVED***function f(t)***REMOVED***return h.isDisposer(t)?(this.resources[this.index]._setDisposable(t),t.promise()):t***REMOVED***var _=t("./errors.js").TypeError,d=t("./util.js").inherits,v=e.PromiseInspection;h.prototype.data=function()***REMOVED***return this._data***REMOVED***,h.prototype.promise=function()***REMOVED***return this._promise***REMOVED***,h.prototype.resource=function()***REMOVED***return this.promise().isFulfilled()?this.promise().value():null***REMOVED***,h.prototype.tryDispose=function(t)***REMOVED***var e=this.resource(),r=this._context;void 0!==r&&r._pushContext();var n=null!==e?this.doDispose(e,t):null;return void 0!==r&&r._popContext(),this._promise._unsetDisposable(),this._data=null,n***REMOVED***,h.isDisposer=function(t)***REMOVED***return null!=t&&"function"==typeof t.resource&&"function"==typeof t.tryDispose***REMOVED***,d(p,h),p.prototype.doDispose=function(t,e)***REMOVED***var r=this.data();return r.call(t,t,e)***REMOVED***,e.using=function()***REMOVED***var t=arguments.length;if(2>t)return r("you must pass at least 2 arguments to Promise.using");var i=arguments[t-1];if("function"!=typeof i)return r("fn must be a function\n\n    See http://goo.gl/916lJJ\n");var s,a=!0;2===t&&Array.isArray(arguments[0])?(s=arguments[0],t=s.length,a=!1):(s=arguments,t--);for(var u=new Array(t),p=0;t>p;++p)***REMOVED***var _=s[p];if(h.isDisposer(_))***REMOVED***var d=_;_=_.promise(),_._setDisposable(d)
***REMOVED***else***REMOVED***var v=n(_);v instanceof e&&(_=v._then(f,null,null,***REMOVED***resources:u,index:p***REMOVED***,void 0))***REMOVED***u[p]=_***REMOVED***var y=e.settle(u).then(o).then(function(t)***REMOVED***y._pushContext();var e;try***REMOVED***e=a?i.apply(void 0,t):i.call(void 0,t)***REMOVED***finally***REMOVED***y._popContext()***REMOVED***return e***REMOVED***)._then(c,l,void 0,u,void 0);return u.promise=y,y***REMOVED***,e.prototype._setDisposable=function(t)***REMOVED***this._bitField=262144|this._bitField,this._disposer=t***REMOVED***,e.prototype._isDisposable=function()***REMOVED***return(262144&this._bitField)>0***REMOVED***,e.prototype._getDisposer=function()***REMOVED***return this._disposer***REMOVED***,e.prototype._unsetDisposable=function()***REMOVED***this._bitField=-262145&this._bitField,this._disposer=void 0***REMOVED***,e.prototype.disposer=function(t)***REMOVED***if("function"==typeof t)return new p(t,this,i());throw new _***REMOVED******REMOVED******REMOVED***,***REMOVED***"./errors.js":13,"./util.js":38***REMOVED***],38:[function(t,e,r)***REMOVED***"use strict";function n()***REMOVED***try***REMOVED***var t=C;return C=null,t.apply(this,arguments)***REMOVED***catch(e)***REMOVED***return F.e=e,F***REMOVED******REMOVED***function i(t)***REMOVED***return C=t,n***REMOVED***function o(t)***REMOVED***return null==t||t===!0||t===!1||"string"==typeof t||"number"==typeof t***REMOVED***function s(t)***REMOVED***return!o(t)***REMOVED***function a(t)***REMOVED***return o(t)?new Error(v(t)):t***REMOVED***function u(t,e)***REMOVED***var r,n=t.length,i=new Array(n+1);for(r=0;n>r;++r)i[r]=t[r];return i[r]=e,i***REMOVED***function c(t,e,r)***REMOVED***if(!w.isES5)return***REMOVED******REMOVED***.hasOwnProperty.call(t,e)?t[e]:void 0;var n=Object.getOwnPropertyDescriptor(t,e);return null!=n?null==n.get&&null==n.set?n.value:r:void 0***REMOVED***function l(t,e,r)***REMOVED***if(o(t))return t;var n=***REMOVED***value:r,configurable:!0,enumerable:!1,writable:!0***REMOVED***;return w.defineProperty(t,e,n),t***REMOVED***function h(t)***REMOVED***throw t***REMOVED***function p(t)***REMOVED***try***REMOVED***if("function"==typeof t)***REMOVED***var e=w.names(t.prototype),r=w.isES5&&e.length>1,n=e.length>0&&!(1===e.length&&"constructor"===e[0]),i=x.test(t+"")&&w.names(t).length>0;if(r||n||i)return!0***REMOVED***return!1***REMOVED***catch(o)***REMOVED***return!1***REMOVED******REMOVED***function f(t)***REMOVED***function e()***REMOVED******REMOVED***e.prototype=t;for(var r=8;r--;)new e;return t***REMOVED***function _(t)***REMOVED***return R.test(t)***REMOVED***function d(t,e,r)***REMOVED***for(var n=new Array(t),i=0;t>i;++i)n[i]=e+i+r;return n***REMOVED***function v(t)***REMOVED***try***REMOVED***return t+""***REMOVED***catch(e)***REMOVED***return"[no string representation]"***REMOVED******REMOVED***function y(t)***REMOVED***try***REMOVED***l(t,"isOperational",!0)***REMOVED***catch(e)***REMOVED******REMOVED******REMOVED***function g(t)***REMOVED***return null==t?!1:t instanceof Error.__BluebirdErrorTypes__.OperationalError||t.isOperational===!0***REMOVED***function m(t)***REMOVED***return t instanceof Error&&w.propertyIsWritable(t,"stack")***REMOVED***function j(t)***REMOVED***return***REMOVED******REMOVED***.toString.call(t)***REMOVED***function b(t,e,r)***REMOVED***for(var n=w.names(t),i=0;i<n.length;++i)***REMOVED***var o=n[i];if(r(o))try***REMOVED***w.defineProperty(e,o,w.getDescriptor(t,o))***REMOVED***catch(s)***REMOVED******REMOVED******REMOVED******REMOVED***var w=t("./es5.js"),k="undefined"==typeof navigator,E=function()***REMOVED***try***REMOVED***var t=***REMOVED******REMOVED***;return w.defineProperty(t,"f",***REMOVED***get:function()***REMOVED***return 3***REMOVED******REMOVED***),3===t.f***REMOVED***catch(e)***REMOVED***return!1***REMOVED******REMOVED***(),F=***REMOVED***e:***REMOVED******REMOVED******REMOVED***,C,P=function(t,e)***REMOVED***function r()***REMOVED***this.constructor=t,this.constructor$=e;for(var r in e.prototype)n.call(e.prototype,r)&&"$"!==r.charAt(r.length-1)&&(this[r+"$"]=e.prototype[r])***REMOVED***var n=***REMOVED******REMOVED***.hasOwnProperty;return r.prototype=e.prototype,t.prototype=new r,t.prototype***REMOVED***,T=function()***REMOVED***var t=[Array.prototype,Object.prototype,Function.prototype],e=function(e)***REMOVED***for(var r=0;r<t.length;++r)if(t[r]===e)return!0;return!1***REMOVED***;if(w.isES5)***REMOVED***var r=Object.getOwnPropertyNames;return function(t)***REMOVED***for(var n=[],i=Object.create(null);null!=t&&!e(t);)***REMOVED***var o;try***REMOVED***o=r(t)***REMOVED***catch(s)***REMOVED***return n***REMOVED***for(var a=0;a<o.length;++a)***REMOVED***var u=o[a];if(!i[u])***REMOVED***i[u]=!0;var c=Object.getOwnPropertyDescriptor(t,u);null!=c&&null==c.get&&null==c.set&&n.push(u)***REMOVED******REMOVED***t=w.getPrototypeOf(t)***REMOVED***return n***REMOVED******REMOVED***var n=***REMOVED******REMOVED***.hasOwnProperty;return function(r)***REMOVED***if(e(r))return[];var i=[];t:for(var o in r)if(n.call(r,o))i.push(o);else***REMOVED***for(var s=0;s<t.length;++s)if(n.call(t[s],o))continue t;i.push(o)***REMOVED***return i***REMOVED******REMOVED***(),x=/this\s*\.\s*\S+\s*=/,R=/^[a-z$_][a-z$_0-9]*$/i,S=function()***REMOVED***return"stack"in new Error?function(t)***REMOVED***return m(t)?t:new Error(v(t))***REMOVED***:function(t)***REMOVED***if(m(t))return t;try***REMOVED***throw new Error(v(t))***REMOVED***catch(e)***REMOVED***return e***REMOVED******REMOVED******REMOVED***(),A=***REMOVED***isClass:p,isIdentifier:_,inheritedDataKeys:T,getDataPropertyOrDefault:c,thrower:h,isArray:w.isArray,haveGetters:E,notEnumerableProp:l,isPrimitive:o,isObject:s,canEvaluate:k,errorObj:F,tryCatch:i,inherits:P,withAppended:u,maybeWrapAsError:a,toFastProperties:f,filledRange:d,toString:v,canAttachTrace:m,ensureErrorObject:S,originatesFromRejection:g,markAsOriginatingFromRejection:y,classString:j,copyDescriptors:b,hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:"undefined"!=typeof process&&"[object process]"===j(process).toLowerCase()***REMOVED***;A.isRecentNode=A.isNode&&function()***REMOVED***var t=process.versions.node.split(".").map(Number);return 0===t[0]&&t[1]>10||t[0]>0***REMOVED***(),A.isNode&&A.toFastProperties(process);try***REMOVED***throw new Error***REMOVED***catch(O)***REMOVED***A.lastLineError=O***REMOVED***e.exports=A***REMOVED***,***REMOVED***"./es5.js":14***REMOVED***]***REMOVED***,***REMOVED******REMOVED***,[4])(4)***REMOVED***),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise);