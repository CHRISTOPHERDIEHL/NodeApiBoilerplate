import ***REMOVED*** makeGetSet ***REMOVED*** from '../moment/get-set';
import ***REMOVED*** addFormatToken ***REMOVED*** from '../format/format';
import ***REMOVED*** addUnitAlias ***REMOVED*** from './aliases';
import ***REMOVED*** addUnitPriority ***REMOVED*** from './priorities';
import ***REMOVED*** addRegexToken, match1, match2, match3, match1to3, matchUnsigned ***REMOVED*** from '../parse/regex';
import ***REMOVED*** addParseToken ***REMOVED*** from '../parse/token';
import ***REMOVED*** MILLISECOND ***REMOVED*** from './constants';
import toInt from '../utils/to-int';

// FORMATTING

addFormatToken('S', 0, 0, function () ***REMOVED***
    return ~~(this.millisecond() / 100);
***REMOVED***);

addFormatToken(0, ['SS', 2], 0, function () ***REMOVED***
    return ~~(this.millisecond() / 10);
***REMOVED***);

addFormatToken(0, ['SSS', 3], 0, 'millisecond');
addFormatToken(0, ['SSSS', 4], 0, function () ***REMOVED***
    return this.millisecond() * 10;
***REMOVED***);
addFormatToken(0, ['SSSSS', 5], 0, function () ***REMOVED***
    return this.millisecond() * 100;
***REMOVED***);
addFormatToken(0, ['SSSSSS', 6], 0, function () ***REMOVED***
    return this.millisecond() * 1000;
***REMOVED***);
addFormatToken(0, ['SSSSSSS', 7], 0, function () ***REMOVED***
    return this.millisecond() * 10000;
***REMOVED***);
addFormatToken(0, ['SSSSSSSS', 8], 0, function () ***REMOVED***
    return this.millisecond() * 100000;
***REMOVED***);
addFormatToken(0, ['SSSSSSSSS', 9], 0, function () ***REMOVED***
    return this.millisecond() * 1000000;
***REMOVED***);


// ALIASES

addUnitAlias('millisecond', 'ms');

// PRIORITY

addUnitPriority('millisecond', 16);

// PARSING

addRegexToken('S',    match1to3, match1);
addRegexToken('SS',   match1to3, match2);
addRegexToken('SSS',  match1to3, match3);

var token;
for (token = 'SSSS'; token.length <= 9; token += 'S') ***REMOVED***
    addRegexToken(token, matchUnsigned);
***REMOVED***

function parseMs(input, array) ***REMOVED***
    array[MILLISECOND] = toInt(('0.' + input) * 1000);
***REMOVED***

for (token = 'S'; token.length <= 9; token += 'S') ***REMOVED***
    addParseToken(token, parseMs);
***REMOVED***
// MOMENTS

export var getSetMillisecond = makeGetSet('Milliseconds', false);
