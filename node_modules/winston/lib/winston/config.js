/*
 * config.js: Default settings for all levels that winston knows about
 *
 * (C) 2010 Charlie Robbins
 * MIT LICENCE
 *
 */

var colors = require('colors/safe');

// Fix colors not appearing in non-tty environments
colors.enabled = true;

var config = exports,
    allColors = exports.allColors = ***REMOVED******REMOVED***;

config.addColors = function (colors) ***REMOVED***
  mixin(allColors, colors);
***REMOVED***;

config.colorize = function (level, message) ***REMOVED***
  if (typeof message === 'undefined') message = level;

  var colorized = message;
  if (allColors[level] instanceof Array) ***REMOVED***
    for (var i = 0, l = allColors[level].length; i < l; ++i) ***REMOVED***
      colorized = colors[allColors[level][i]](colorized);
    ***REMOVED***
  ***REMOVED***
  else if (allColors[level].match(/\s/)) ***REMOVED***
    var colorArr = allColors[level].split(/\s+/);
    for (var i = 0; i < colorArr.length; ++i) ***REMOVED***
      colorized = colors[colorArr[i]](colorized);
    ***REMOVED***
    allColors[level] = colorArr;
  ***REMOVED***
  else ***REMOVED***
    colorized = colors[allColors[level]](colorized);
  ***REMOVED***

  return colorized;
***REMOVED***;

//
// Export config sets
//
config.cli    = require('./config/cli-config');
config.npm    = require('./config/npm-config');
config.syslog = require('./config/syslog-config');

//
// Add colors for pre-defined config sets
//
config.addColors(config.cli.colors);
config.addColors(config.npm.colors);
config.addColors(config.syslog.colors);

function mixin (target) ***REMOVED***
  var args = Array.prototype.slice.call(arguments, 1);

  args.forEach(function (a) ***REMOVED***
    var keys = Object.keys(a);
    for (var i = 0; i < keys.length; i++) ***REMOVED***
      target[keys[i]] = a[keys[i]];
    ***REMOVED***
  ***REMOVED***);
  return target;
***REMOVED***;
