var path = require('path'),
    vows = require('vows'),
    assert = require('assert'),
    winston = require('../../lib/winston'),
    helpers = require('../helpers');

var npmTransport = new (winston.transports.Memory)(),
    syslogTransport = new (winston.transports.Memory)(***REMOVED*** levels: winston.config.syslog.levels ***REMOVED***);

vows.describe('winston/transports/memory').addBatch(***REMOVED***
  "An instance of the Memory Transport": ***REMOVED***
    "with npm levels": ***REMOVED***
      "should have the proper methods defined": function () ***REMOVED***
        helpers.assertMemory(npmTransport);
      ***REMOVED***,
      "the log() method": helpers.testNpmLevels(npmTransport, "should respond with true", function (ign, err, logged) ***REMOVED***
        assert.isNull(err);
        assert.isTrue(logged);
      ***REMOVED***)
    ***REMOVED***,
    "with syslog levels": ***REMOVED***
      "should have the proper methods defined": function () ***REMOVED***
        helpers.assertMemory(syslogTransport);
      ***REMOVED***,
      "the log() method": helpers.testSyslogLevels(syslogTransport, "should respond with true", function (ign, err, logged) ***REMOVED***
        assert.isNull(err);
        assert.isTrue(logged);
      ***REMOVED***)
    ***REMOVED***
  ***REMOVED***
***REMOVED***).export(module);