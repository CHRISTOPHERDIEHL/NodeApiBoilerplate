// Load modules

var Code = require('code');
var Joi = require('../');


// Declare internals

var internals = ***REMOVED******REMOVED***;


// Test shortcuts

var expect = Code.expect;


exports.validate = function (schema, config, callback) ***REMOVED***

    return exports.validateOptions(schema, config, null, callback);
***REMOVED***;


exports.validateOptions = function (schema, config, options, callback) ***REMOVED***

    var compiled = Joi.compile(schema);
    for (var i = 0, il = config.length; i < il; ++i) ***REMOVED***

        var item = config[i];
        var result = Joi.validate(item[0], compiled, item[2] || options);

        var err = result.error;
        var value = result.value;

        if (err !== null && item[1]) ***REMOVED***
            console.log(err);
        ***REMOVED***

        if (err === null && !item[1]) ***REMOVED***
            console.log(item[0]);
        ***REMOVED***

        expect(err === null).to.equal(item[1]);

        if (item.length >= 4) ***REMOVED***
            var comparator = item[3];
            if (item[1]) ***REMOVED***
                expect(value).to.deep.equal(comparator);
            ***REMOVED***
            else ***REMOVED***
                if (comparator instanceof RegExp) ***REMOVED***
                    expect(err.message).to.match(comparator);
                ***REMOVED***
                else ***REMOVED***
                    expect(err.message).to.deep.equal(comparator);
                ***REMOVED***
            ***REMOVED***
        ***REMOVED***
    ***REMOVED***

    if (callback) ***REMOVED***
        callback();
    ***REMOVED***
***REMOVED***;
