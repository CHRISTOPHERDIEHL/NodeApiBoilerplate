// Load modules

var Any = require('./any');
var Errors = require('./errors');
var Hoek = require('hoek');


// Declare internals

var internals = ***REMOVED******REMOVED***;


internals.Binary = function () ***REMOVED***

    Any.call(this);
    this._type = 'binary';
***REMOVED***;

Hoek.inherits(internals.Binary, Any);


internals.Binary.prototype._base = function (value, state, options) ***REMOVED***

    var result = ***REMOVED***
        value: value
    ***REMOVED***;

    if (typeof value === 'string' &&
        options.convert) ***REMOVED***

        try ***REMOVED***
            var converted = new Buffer(value, this._flags.encoding);
            result.value = converted;
        ***REMOVED***
        catch (e) ***REMOVED*** ***REMOVED***
    ***REMOVED***

    result.errors = Buffer.isBuffer(result.value) ? null : Errors.create('binary.base', null, state, options);
    return result;
***REMOVED***;


internals.Binary.prototype.encoding = function (encoding) ***REMOVED***

    Hoek.assert(Buffer.isEncoding(encoding), 'Invalid encoding:', encoding);

    var obj = this.clone();
    obj._flags.encoding = encoding;
    return obj;
***REMOVED***;


internals.Binary.prototype.min = function (limit) ***REMOVED***

    Hoek.assert(Hoek.isInteger(limit) && limit >= 0, 'limit must be a positive integer');

    return this._test('min', limit, function (value, state, options) ***REMOVED***

        if (value.length >= limit) ***REMOVED***
            return null;
        ***REMOVED***

        return Errors.create('binary.min', ***REMOVED*** limit: limit, value: value ***REMOVED***, state, options);
    ***REMOVED***);
***REMOVED***;


internals.Binary.prototype.max = function (limit) ***REMOVED***

    Hoek.assert(Hoek.isInteger(limit) && limit >= 0, 'limit must be a positive integer');

    return this._test('max', limit, function (value, state, options) ***REMOVED***

        if (value.length <= limit) ***REMOVED***
            return null;
        ***REMOVED***

        return Errors.create('binary.max', ***REMOVED*** limit: limit, value: value ***REMOVED***, state, options);
    ***REMOVED***);
***REMOVED***;


internals.Binary.prototype.length = function (limit) ***REMOVED***

    Hoek.assert(Hoek.isInteger(limit) && limit >= 0, 'limit must be a positive integer');

    return this._test('length', limit, function (value, state, options) ***REMOVED***

        if (value.length === limit) ***REMOVED***
            return null;
        ***REMOVED***

        return Errors.create('binary.length', ***REMOVED*** limit: limit, value: value ***REMOVED***, state, options);
    ***REMOVED***);
***REMOVED***;


module.exports = new internals.Binary();
